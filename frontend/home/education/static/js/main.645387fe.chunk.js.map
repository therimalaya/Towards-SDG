{"version":3,"sources":["components/FrontCover.js","config/app-config.js","components/Personal.js","components/Goal.js","components/Target.js","components/Summary.js","components/Confirmation.js","components/MainForm.js","components/SideInfo.js","components/Records.js","App.js","components/Heatmap.js","config/firebase-config.js","serviceWorker.js","index.js"],"names":["FrontCover","props","Fragment","Box","display","flexDirection","height","src","alt","width","flexGrow","Typography","paragraph","to","StepConfig","label","key","FacultyConfig","value","SustainFocusOption","TeachingOption","useStyles","makeStyles","theme","root","margin","spacing","chips","flexWrap","chip","paper","maxHeight","Personal","classes","FormData","HandleChange","Errors","toProper","string","replace","c","toUpperCase","className","TextField","select","onChange","error","Faculty","id","Type","SelectProps","MenuProps","getContentAnchorEl","anchorOrigin","vertical","horizontal","helperText","variant","autoFocus","fullWidth","MenuItem","dense","justifyContent","CourseCode","Year","range","map","yr","CourseName","CourseResponsible","option","renderValue","selected","Chip","filter","item","multiple","RelatedFaculties","Teaching","name","SustainFocus","numnum","num","marginTop","selectedTiles","boxShadow","transform","borderColor","borderWidth","borderStyle","borderRadius","outline","regularTiles","dimTiles","GoalList","forEach","goal","image_src","isSelected","Goal","useState","AllGoals","setAllGoals","Goals","CurrentRecord","UpdateCurrentRecord","useEffect","Targets","length","includes","handleClick","event","newGoals","Number","target","classList","toggle","Grid","container","direction","GridList","cols","component","cellHeight","GridListTile","makeDim","disabled","TableContainer","Paper","Table","table","size","TableBody","idx","TableRow","TableCell","align","style","color","colorInfo","hex","fontWeight","title","ImageLink","type","short","onClick","targetBtns","alignContent","targetBtn","textTransform","textAlign","palette","primary","main","backgroundColor","contrastText","paddingRight","paddingLeft","marginRight","clickedTargetBtn","background","light","goalcover","flexShrink","backgroundPosition","tableWrapper","overflowY","marginBottom","fontSize","padding","goalheader","alignItems","InteractionArrow","interaction","SideTable","Records","removeCurrent","UpdateCurrent","stickyHeader","aria-label","TableHead","row","IconButton","String","defaultValue","Interaction","Target","RemoveCurrentRecord","newTargets","TargetList","match","goal_img","x","toString","PossibleTargets","setPossibleTargets","NestedTargets","Set","reduce","acc","curr","SelectedGoals","Object","keys","targets","document","getElementsByClassName","btn","scrollIntoView","preventDefault","currentTarget","m","xs","Button","NestedGoals","_","mergeWith","flatMapDepth","groupBy","flatMap","y","recordsDetails","expansionTitle","expansionDetail","gridRow","maxWidth","rtlIcon","ltrIcon","link","RecordSummary","Record","expanded","ExpansionPanel","defaultExpanded","ExpansionPanelSummary","ExpansionPanelDetails","SDGRecords","ResearchDetails","fclty","Divider","join","SDGTable","sdg","RecordPlotPanel","layout","len","block_id","start","end","highlight","parseInt","split","chords","source","opacity","config","innerRadius","outerRadius","gap","ticks","labels","position","radialOffset","tracks","data","strokeColor","strokeWidth","d","fill","tooltipContent","Summary","themes","Confirmation","MainForm","Step","UpdateFormData","UpdateRecords","NextStep","PrevStep","GoHome","Submit","setErrors","NoError","setNoError","checkValidFields","CheckAndProceed","Error","fontFamily","sideinfoHeader","paddingBottom","SideInfo","unsubscribe","Label","useStyle","wrapper","recordsWrapper","AllRecords","records","setRecords","db","firestore","collection","orderBy","limit","onSnapshot","snapshot","doc","push","md","record","py","svgHeatmap","font","line","stroke","text","D3Component","d3Container","useRef","orderRef","order","setOrder","init","setInit","draw","d3","z","domain","clamp","svg","current","append","attr","then","miserables","matrix","nodes","n","node","i","index","count","j","links","orders","sort","a","b","group","selectAll","enter","each","this","bandwidth","on","mouseover","mouseout","column","p","classed","content","t","transition","duration","delay","orderPlot","focus","ref","Heatmap","FirebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","createMuiTheme","dark","secondary","default","overflow","boxSizing","sidebar","header","backgroundSize","minHeight","borderBottom","sideinfo","sidefooter","backgroundImage","sidefooterRecords","borderTopWidth","borderTopStyle","borderTopColor","mainpanel","mainpanelBox","mainContent","csvDownload","textDecoration","DownloadCSV","Goal1","Goal2","Target1","Target2","Direction","filename","console","log","InnerApp","basename","path","button","startIcon","ButtonGroup","Boolean","window","location","hostname","ReactDOM","render","apps","initializeApp","setStep","Date","getFullYear","setFormData","setCurrentRecord","field","isValid","errors","ThemeProvider","input","newRecord","_CurrentRecord","add","created","Timestamp","fromDate","docRef","catch","WriteData","newValue","fields","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"oqXAmDeA,EA/CI,SAAAC,GACjB,OACE,kBAAC,IAAMC,SAAP,KACE,kBAACC,EAAA,EAAD,CAAKC,QAAQ,OAAOC,cAAc,SAASC,OAAO,QAChD,kBAACH,EAAA,EAAD,KACE,yBACEI,IAAI,iCACJC,IAAI,cACJC,MAAM,UAGV,kBAACN,EAAA,EAAD,CAAKO,SAAU,GACb,kBAACC,EAAA,EAAD,CAAYC,WAAW,GAAvB,2TAQA,kBAACD,EAAA,EAAD,CAAYC,WAAW,GAAvB,ibAUA,kBAACD,EAAA,EAAD,CAAYC,WAAW,GAAvB,0WASF,kBAACT,EAAA,EAAD,KACE,kBAAC,IAAD,CAAMU,GAAG,iB,4CC3CNC,EAAa,CACxB,CAAEC,MAAO,wCAAyCC,IAAK,GACvD,CAAED,MAAO,qBAAsBC,IAAK,GACpC,CAAED,MAAO,QAASC,IAAK,GACvB,CAAED,MAAO,UAAWC,IAAK,GACzB,CAAED,MAAO,UAAWC,IAAK,GACzB,CAAED,MAAO,eAAgBC,IAAK,IAGnBC,EAAgB,CAC3B,CAAEC,MAAO,SAAUH,MAAO,eAC1B,CAAEG,MAAO,MAAOH,MAAO,6CACvB,CACEG,MAAO,OACPH,MAAO,0DAET,CAAEG,MAAO,UAAWH,MAAO,yBAC3B,CAAEG,MAAO,KAAMH,MAAO,oCACtB,CAAEG,MAAO,UAAWH,MAAO,0BAC3B,CAAEG,MAAO,MAAOH,MAAO,uBACvB,CAAEG,MAAO,QAASH,MAAO,sBAGdI,EAAqB,CAChC,CACED,MAAO,gCACPH,MAAO,iCAET,CACEG,MAAO,gDACPH,MAAO,iDAET,CACEG,MAAO,4DACPH,MAAO,6DAET,CACEG,MAAO,yDACPH,MAAO,2DAIEK,EAAiB,CAC5B,CACEF,MAAO,4BACPH,MAAO,6BAET,CACEG,MAAO,oCACPH,MAAO,qCAET,CACEG,MAAO,2CACPH,MAAO,4CAET,CACEG,MAAO,mDACPH,MAAO,qDChDLM,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJpB,QAAS,OACTC,cAAe,SACf,QAAS,CACPoB,OAAQF,EAAMG,QAAQ,KAG1BC,MAAO,CACLvB,QAAS,OACTwB,SAAU,QAEZC,KAAM,CACJJ,OAAQ,GAEVK,MAAO,CACLC,UAAW,aA6PAC,MAzPf,SAAkB/B,GAChB,IAAMgC,EAAUZ,IACRa,EAAmCjC,EAAnCiC,SAAUC,EAAyBlC,EAAzBkC,aAAcC,EAAWnC,EAAXmC,OAC1BC,EAAW,SAAAC,GAAM,OAAIA,EAAOC,QAAQ,OAAO,SAAAC,GAAC,OAAIA,EAAEC,kBAExD,OACE,kBAAC,WAAD,KACE,0BAAMC,UAAWT,EAAQT,MACvB,kBAACmB,EAAA,EAAD,CACEC,QAAM,EACNC,SAAUV,EAAa,QACvBW,MAA0B,KAAnBV,EAAOW,QACdC,GAAG,OACH9B,MAAOgB,EAASe,KAChBlC,MAAM,OACNmC,YAAa,CACXC,UAAW,CACTC,mBAAoB,KACpBC,aAAc,CACZC,SAAU,SACVC,WAAY,UAIlBC,WAAW,kDACXC,QAAQ,WACRC,WAAW,EACXC,WAAW,GAEX,kBAACC,EAAA,EAAD,CAAU5C,IAAI,SAASE,MAAM,SAAS2C,OAAK,GAA3C,UAGA,kBAACD,EAAA,EAAD,CAAU5C,IAAI,SAASE,MAAM,SAAS2C,OAAK,GAA3C,WAIF,kBAAC1D,EAAA,EAAD,CACEC,QAAQ,OACRC,cAAc,MACdI,MAAM,OACNqD,eAAe,iBAEf,kBAAC3D,EAAA,EAAD,CAAKM,MAAM,OACT,kBAACkC,EAAA,EAAD,CACEE,SAAUV,EAAa,cACvBW,MAA6B,KAAtBV,EAAO2B,WACdf,GAAG,cACH9B,MAAOgB,EAAS6B,WAAWtB,cAC3B1B,MAAOsB,EAASH,EAASe,MAAQ,QACjCO,WACwB,KAAtBpB,EAAO2B,WACH3B,EAAO2B,WADX,8BAE2B7B,EAASe,KAFpC,SAIFQ,QAAQ,WACRE,WAAW,KAGf,kBAACxD,EAAA,EAAD,CAAKM,MAAM,OACT,kBAACkC,EAAA,EAAD,CACEC,QAAM,EACNM,YAAa,CACXC,UAAW,CACTT,UAAWT,EAAQH,MACnBsB,mBAAoB,KACpBC,aAAc,CACZC,SAAU,SACVC,WAAY,UAIlBV,SAAUV,EAAa,QACvBW,MAAuB,KAAhBV,EAAO4B,KACdhB,GAAG,cACH9B,MAAOgB,EAAS8B,KAChBjD,MAAOsB,EAASH,EAASe,MAAQ,QACjCO,WAAW,yCACXC,QAAQ,WACRE,WAAW,GAEVM,gBAAM,IAAM,KAAM,GAAGC,KAAI,SAAAC,GAAE,OAC1B,kBAACP,EAAA,EAAD,CAAU5C,IAAKmD,EAAIjD,MAAOiD,EAAIN,OAAK,GAChCM,SAMX,kBAACxB,EAAA,EAAD,CACEE,SAAUV,EAAa,cACvBW,MAA6B,KAAtBV,EAAOgC,WACdpB,GAAG,cACH9B,MAAOgB,EAASkC,WAChBrD,MAAK,UAAKsB,EAASH,EAASe,MAAvB,YACe,WAAlBf,EAASe,KAAoB,OAAS,SAExCO,WACwB,KAAtBpB,EAAOgC,WACHhC,EAAOgC,WADX,UAEyB,WAAlBlC,EAASe,KAAoB,OAAS,QAF7C,iCAGSf,EAASe,MAEpBQ,QAAQ,WACRE,WAAW,IAEb,kBAAChB,EAAA,EAAD,CACEE,SAAUV,EAAa,qBACvBW,MAAoC,KAA7BV,EAAOiC,kBACdrB,GAAG,qBACH9B,MAAOgB,EAASmC,kBAChBtD,MAAK,UACe,WAAlBmB,EAASe,KACL,qBACA,mBAENO,WAAU,kBACU,WAAlBtB,EAASe,KACL,oCACA,mBAENQ,QAAQ,WACRE,WAAW,IAEb,kBAAChB,EAAA,EAAD,CACEC,QAAM,EACNC,SAAUV,EAAa,WACvBW,MAA0B,KAAnBV,EAAOW,QACdC,GAAG,UACH9B,MAAOgB,EAASa,QAAQN,cACxB1B,MAAM,UACNmC,YAAa,CACXC,UAAW,CACTC,mBAAoB,KACpBC,aAAc,CACZC,SAAU,SACVC,WAAY,UAIlBC,WAAU,sCAAiCtB,EAASe,MACpDQ,QAAQ,WACRE,WAAW,GAEV1C,EAAciD,KAAI,SAAAI,GAAM,OACvB,kBAACV,EAAA,EAAD,CAAU5C,IAAKsD,EAAOpD,MAAOA,MAAOoD,EAAOpD,MAAO2C,OAAK,GACpDS,EAAOvD,WAId,kBAAC4B,EAAA,EAAD,CACEC,QAAM,EACNC,SAAUV,EAAa,oBACvBe,YAAa,CACXqB,YAAa,SAAAC,GAAQ,OACnB,yBAAK9B,UAAWT,EAAQN,OACrB6C,EAASN,KAAI,SAAAhD,GAAK,OACjB,kBAACuD,EAAA,EAAD,CACEzD,IAAKE,EACLH,MACEE,EAAcyD,QAAO,SAAAC,GAAI,OAAIA,EAAKzD,QAAUA,KAAO,GAChDH,MAEL2B,UAAWT,EAAQJ,YAK3B+C,UAAU,EACVzB,UAAW,CACTC,mBAAoB,KACpBC,aAAc,CACZC,SAAU,SACVC,WAAY,UAIlBrC,MAAOgB,EAAS2C,iBAChB/B,MAAmC,KAA5BV,EAAOyC,iBACd7B,GAAG,oBACHjC,MAAM,0BACNyC,WAAW,gCACXC,QAAQ,WACRE,WAAW,GAEV1C,EAAciD,KAAI,SAAAI,GAAM,OACvB,kBAACV,EAAA,EAAD,CAAU5C,IAAKsD,EAAOpD,MAAOA,MAAOoD,EAAOpD,MAAO2C,OAAK,GACpDS,EAAOvD,WAId,kBAAC4B,EAAA,EAAD,CACEC,QAAM,EACNM,YAAa,CACXC,UAAW,CACTC,mBAAoB,KACpBC,aAAc,CACZC,SAAU,SACVC,WAAY,UAIlBV,SAAUV,EAAa,YACvBW,MAA2B,KAApBV,EAAO0C,SACdC,KAAK,WACL/B,GAAG,WACH9B,MAAOgB,EAAS4C,SAChB/D,MAAM,uBACNyC,WAAU,wBACVC,QAAQ,WACRE,WAAW,GAEVvC,EAAe8C,KAAI,SAAAI,GAAM,OACxB,kBAACV,EAAA,EAAD,CAAU5C,IAAKsD,EAAOpD,MAAOA,MAAOoD,EAAOpD,MAAO2C,OAAK,GACpDS,EAAOvD,WAId,kBAAC4B,EAAA,EAAD,CACEC,QAAM,EACNM,YAAa,CACXC,UAAW,CACTC,mBAAoB,KACpBC,aAAc,CACZC,SAAU,SACVC,WAAY,UAIlBV,SAAUV,EAAa,gBACvBW,MAA+B,KAAxBV,EAAO4C,aACdD,KAAK,gBACL/B,GAAG,gBACH9B,MAAOgB,EAAS8C,aAChBjE,MAAM,mCACNyC,WAAU,8BACVC,QAAQ,WACRE,WAAW,GAEVxC,EAAmB+C,KAAI,SAAAI,GAAM,OAC5B,kBAACV,EAAA,EAAD,CAAU5C,IAAKsD,EAAOpD,MAAOA,MAAOoD,EAAOpD,MAAO2C,OAAK,GACpDS,EAAOvD,c,gFC3PhBkE,EAAS,SAAAC,GAAG,OAAKA,GAAO,EAAI,IAAMA,EAAMA,GAExC7D,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCiD,SAAU,CACRW,UAAW,QAEbC,cAAe,CACbC,UAAU,kBACVC,UAAW,cACXC,YAAa,aACbC,YAAa,MACbC,YAAa,QACbC,aAAc,MACd,UAAW,CACTC,QAAS,QAEXjB,OAAQ,iBAEVkB,aAAc,CACZ,UAAW,CACTD,QAAS,SAGbE,SAAU,CACRnB,OAAQ,qBAIZoB,EAASC,SAAQ,SAAAC,GACfA,EAAKC,UAAY,qBAAuBhB,EAAOe,EAAKA,MAAQ,OAC5DA,EAAKE,YAAa,KAGpB,IA0FeC,EA1FF,SAAAlG,GACX,IAAMgC,EAAUZ,IADI,EAEY+E,mBAASN,GAFrB,mBAEbO,EAFa,KAEHC,EAFG,KAGZC,EAAUtG,EAAMuG,cAAhBD,MACAE,EAAwBxG,EAAxBwG,oBAERC,qBAAU,WACJzG,EAAMuG,cAAcG,QAAQC,QAC9B3G,EAAMwG,oBAAoB,UAAW,OAIzCX,EAASC,SACP,SAAAC,GAAI,OAAKA,EAAKE,WAAajG,EAAMuG,cAAcD,MAAMM,SAASb,EAAKA,SAGrE,IAAMc,EAAc,SAAAC,GAClB,IAAMC,EAAWX,EACjBW,EAASjB,SAAQ,SAAAC,GACXA,EAAKA,OAASiB,OAAOF,EAAMG,OAAOnC,QACpCiB,EAAKE,YAAcF,EAAKE,eAG5Ba,EAAMG,OAAOC,UAAUC,OAAO,YAC9BX,EACE,QACAO,EAAStC,QAAO,SAAAsB,GAAI,OAAIA,EAAKE,cAAYhC,KAAI,SAAA8B,GAAI,OAAIA,EAAKA,SAE5DM,EAAYU,IAGd,OACE,kBAAC,WAAD,KACE,kBAACK,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,UAExB,kBAACpH,EAAA,EAAD,CAAKuC,UAAWT,EAAQT,MACtB,kBAACgG,EAAA,EAAD,CAAUC,KAAM,EAAGC,UAAU,MAAMC,WAAW,QAC3CtB,EAASnC,KAAI,SAAA8B,GAAI,OAChB,kBAAC4B,EAAA,EAAD,CAAc5G,IAAKgF,EAAKA,KAAM0B,UAAU,OACtC,kBAAC,EAAD,CACEG,QAASxB,EAAS3B,QAAO,SAAAC,GAAI,OAAIA,EAAKuB,cAAYU,QAAU,EAC5DZ,KAAMA,EACNc,YAAaA,EACb9F,IAAKgF,EAAKA,KACV8B,SAAWvB,EAAMK,QAAU,GAAMZ,EAAKE,kBAK7CG,EAAS3B,QAAO,SAAAsB,GAAI,OAAIO,EAAMM,SAASb,EAAKA,SAAOY,OAClD,kBAACjG,EAAA,EAAD,CAAY8C,QAAQ,YAApB,kBAEA,kBAAC,WAAD,KACE,kBAAC9C,EAAA,EAAD,CAAY8C,QAAQ,YAApB,yBACA,kBAAC9C,EAAA,EAAD,CAAY8C,QAAQ,SAApB,qCAKJ,kBAACsE,EAAA,EAAD,CAAgBL,UAAWM,IAAOtF,UAAWT,EAAQuC,UACnD,kBAACyD,EAAA,EAAD,CAAOvF,UAAWT,EAAQiG,MAAOC,KAAK,SACpC,kBAACC,EAAA,EAAD,KACG/B,EAAS3B,QAAO,SAAAsB,GAAI,OAAIO,EAAMM,SAASb,EAAKA,SAAO9B,KAClD,SAAC8B,EAAMqC,GAAP,OACE,kBAAC,WAAD,CAAUrH,IAAKqH,GACb,kBAACC,EAAA,EAAD,CAAUtH,IAAKgF,EAAKA,MAClB,kBAACuC,EAAA,EAAD,CACE9E,QAAQ,OACR+E,MAAM,QACNC,MAAO,CACLC,MAAO1C,EAAK2C,UAAUC,IACtBC,WAAY,WALhB,QAQQ7C,EAAKA,MAEb,kBAACuC,EAAA,EAAD,CAAWC,MAAM,QAAQxC,EAAK8C,mBAgBhDC,EAAY,SAAA9I,GAChB,IAAMgC,EAAUZ,IACR2E,EAAgC/F,EAAhC+F,KAAMc,EAA0B7G,EAA1B6G,YAAagB,EAAa7H,EAAb6H,SAC3B,OACE,2BACErH,MAAM,OACNuC,GAAI,QAAUiC,EAAOe,EAAKA,MAC1BgD,KAAK,QACLzI,IAAKyF,EAAKC,UACVlB,KAAMiB,EAAKA,KACXxF,IAAKwF,EAAKiD,MACVC,QAASpC,EACTpE,UACEsD,EAAKE,WACDjE,EAAQmD,cACRnF,EAAM4H,QACN5F,EAAQ4D,SACR5D,EAAQ2D,aAEdkC,SAAUA,K,qFC/IVzG,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC4H,WAAY,CACVC,aAAc,cAEhBC,UAAW,CACT5H,OAAQ,UACR6H,cAAe,QACfC,UAAW,OACXzF,eAAgB,QAChB,MAAO,CACLrC,OAAQ,EACR,SAAU,CACRoH,WAAY,OACZH,MAAOnH,EAAMiI,QAAQC,QAAQC,OAGjC,UAAW,CACThB,MAAOnH,EAAMiI,QAAQC,QAAQC,KAC7B,MAAO,CACL,SAAU,CACRC,gBAAiBpI,EAAMiI,QAAQC,QAAQC,KACvChB,MAAOnH,EAAMiI,QAAQC,QAAQG,aAC7BxJ,QAAS,eACTyJ,aAAc,MACdC,YAAa,MACbpE,aAAc,MACdqE,YAAa,UAKrBC,iBAAkB,CAChBvI,OAAQ,UACR6H,cAAe,QACfC,UAAW,OACXzF,eAAgB,QAChB6F,gBAAiBpI,EAAMiI,QAAQS,WAAWC,MAC1CxB,MAAOnH,EAAMiI,QAAQC,QAAQC,KAC7B,MAAO,CACLjI,OAAQ,EACR,SAAU,CACRkI,gBAAiBpI,EAAMiI,QAAQC,QAAQC,KACvChB,MAAOnH,EAAMiI,QAAQC,QAAQG,aAC7BxJ,QAAS,eACTyJ,aAAc,MACdC,YAAa,MACbpE,aAAc,MACdqE,YAAa,QAGjB,UAAW,CACTJ,gBAAiBpI,EAAMiI,QAAQS,WAAWC,QAG9CC,UAAW,CACT1J,MAAO,OACPH,OAAQ,QACR8J,WAAY,EACZC,mBAAoB,YAEtBC,aAAc,CACZ7J,MAAO,QAETyH,MAAO,CACLzH,MAAO,OACPsB,UAAW,QACXwI,UAAW,SACXC,aAAc,OACd,UAAW,CACT,MAAO,CACLC,SAAU,UACVC,QAAS,aAIfC,WAAY,CACVvK,QAAS,OACTwK,WAAY,SACZ,MAAO,CACLlC,MAAOnH,EAAMiI,QAAQC,QAAQG,aAC7Ba,SAAU,UAEZ,OAAQ,CACN/B,MAAOnH,EAAMiI,QAAQC,QAAQG,aAC7BC,aAAc,OACdC,YAAa,YAKNe,GAAmB,SAAA5K,GAAU,IAChCsH,EAActH,EAAdsH,UACR,MAAkB,QAAdA,EAEA,kBAAC,KAAD,CACEkB,MAAO,CAAEgC,SAAU,UAAWnF,UAAW,oBAGtB,QAAdiC,EACF,kBAAC,KAAD,CAAiBkB,MAAO,CAAEgC,SAAU,aAEpC,MAGLlD,GAAY,CAChB,CAAErG,MAAO,GAAIH,MAAO,QACpB,CAAEG,MAAO,MAAOH,MAAO,kBAAC,GAAD,CAAkBwG,UAAU,SACnD,CAAErG,MAAO,MAAOH,MAAO,kBAAC,GAAD,CAAkBwG,UAAU,UAE/CuD,GAAc,CAClB,CAAE5J,MAAO,GAAIH,MAAO,QACpB,CAAEG,MAAO,WAAYH,MAAO,YAC5B,CAAEG,MAAO,WAAYH,MAAO,aAExBiI,GAAO,CACX,CAAE9H,MAAO,GAAIH,MAAO,QACpB,CAAEG,MAAO,SAAUH,MAAO,UAC1B,CAAEG,MAAO,WAAYH,MAAO,aAGxBgK,GAAY,SAAA9K,GAChB,IAAMgC,EAAUZ,KACR2J,EAA0C/K,EAA1C+K,QAASC,EAAiChL,EAAjCgL,cAAeC,EAAkBjL,EAAlBiL,cAChC,OACE,kBAACnD,EAAA,EAAD,CAAgBL,UAAWM,IAAOtF,UAAWT,EAAQiG,OACnD,kBAACD,EAAA,EAAD,CAAOkD,cAAY,EAAChD,KAAK,QAAQiD,aAAW,0BAC1C,kBAACC,EAAA,EAAD,KACE,kBAAC/C,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,MACA,kBAACA,EAAA,EAAD,gBACA,kBAACA,EAAA,EAAD,kBACA,kBAACA,EAAA,EAAD,gBACA,kBAACA,EAAA,EAAD,oBACA,kBAACA,EAAA,EAAD,eAGJ,kBAACH,EAAA,EAAD,KACG4C,EAAQ9G,KAAI,SAACoH,EAAKtK,GAAN,OACX,kBAACsH,EAAA,EAAD,CAAUtH,IAAKA,GACb,kBAACuH,EAAA,EAAD,KACE,kBAACgD,EAAA,EAAD,CACEH,aAAW,SACXlC,QAAS+B,EACTlG,KAAMyG,OAAOxK,GACbmH,KAAK,SAEL,kBAAC,KAAD,CAAYsC,SAAS,YAGzB,kBAAClC,EAAA,EAAD,KACG+C,EAAI3E,QAAQ,GAAK2E,EAAI3E,QAAQ,GAAK2E,EAAI/E,MAAM,IAE/C,kBAACgC,EAAA,EAAD,KACE,kBAAC5F,EAAA,EAAD,CACE8I,aAAa,GACb1G,KAAMyG,OAAOxK,GACbgC,GAAG,+BACHS,QAAQ,WACR0E,KAAK,QACLvF,QAAM,EACNe,WAAS,EACTd,SAAUqI,EAAc,aACxBhK,MAAO8J,EAAQhK,GAAK0K,YAAYnE,WAE/BA,GAAUrD,KAAI,SAAAI,GAAM,OACnB,kBAACV,EAAA,EAAD,CAAU5C,IAAKsD,EAAOpD,MAAOA,MAAOoD,EAAOpD,OACxCoD,EAAOvD,YAKhB,kBAACwH,EAAA,EAAD,KACG+C,EAAI3E,QAAQ,GAAK2E,EAAI3E,QAAQ,GAAK2E,EAAI/E,MAAM,IAE/C,kBAACgC,EAAA,EAAD,KACE,kBAAC5F,EAAA,EAAD,CACEoC,KAAMyG,OAAOxK,GACbgC,GAAG,qBACHS,QAAQ,WACR0E,KAAK,QACLvF,QAAM,EACNe,WAAS,EACTzC,MAAO8J,EAAQhK,GAAK0K,YAAYxK,MAChC2B,SAAUqI,EAAc,UAEvBJ,GAAY5G,KAAI,SAAAI,GAAM,OACrB,kBAACV,EAAA,EAAD,CAAU5C,IAAKsD,EAAOpD,MAAOA,MAAOoD,EAAOpD,OACxCoD,EAAOvD,YAKhB,kBAACwH,EAAA,EAAD,KACE,kBAAC5F,EAAA,EAAD,CACEK,GAAG,0BACHS,QAAQ,WACR0E,KAAK,QACLvF,QAAM,EACNe,WAAS,EACToB,KAAMyG,OAAOxK,GACb6B,SAAUqI,EAAc,QACxBhK,MAAO8J,EAAQhK,GAAK0K,YAAY1C,MAE/BA,GAAK9E,KAAI,SAAAI,GAAM,OACd,kBAACV,EAAA,EAAD,CAAU5C,IAAKsD,EAAOpD,MAAOA,MAAOoD,EAAOpD,OACxCoD,EAAOvD,oBAmJf4K,OAvIf,SAAgB1L,GACd,IAAMgC,EAAUZ,KACRmF,EAA2BvG,EAA3BuG,cAAewE,EAAY/K,EAAZ+K,QACfvE,EAA6CxG,EAA7CwG,oBAAqBmF,EAAwB3L,EAAxB2L,oBACrBV,EAAkBjL,EAAlBiL,cAEJW,EAAaC,EAAWpH,QAAO,SAAAwC,GAAM,OACvCjH,EAAMuG,cAAcD,MAAMM,SAASK,EAAOlB,SAC1CtB,QAAO,SAAAwC,GAAM,OAAIA,EAAOlE,GAAG+I,MAAM,aACnCF,EAAW9F,SAAQ,SAAAmB,GAnON,IAAAhC,EAoOXgC,EAAO8E,SAAW,uBApOP9G,EAoOqCgC,EAAOlB,OApO7B,EAAI,IAAMd,EAAMA,GAoOqB,OAC/DgC,EAAOhB,WAAajG,EAAMuG,cAAcG,QAAQzC,KAAI,SAAA+H,GAAC,OACnDA,EAAEC,cACFrF,SAASK,EAAOlE,OAbC,MAgByBoD,mBAASyF,GAhBlC,mBAgBdM,EAhBc,KAgBGC,EAhBH,KAiBfC,EAAgB,YACjB,IAAIC,IAAIH,EAAgBjI,KAAI,SAAAgD,GAAM,OAAIA,EAAOlB,UAChDuG,QAAO,SAACC,EAAKC,GAEb,OADAD,EAAIC,GAAQN,EAAgBzH,QAAO,SAAAwC,GAAM,OAAIA,EAAOlB,OAASyG,KACtDD,IACN,IACCE,EAAgB5G,EAASpB,QAAO,SAAAsB,GAAI,OACtC2G,OAAOC,KAAKP,GAAexF,SAASb,EAAKA,KAAKkG,eAEhDQ,EAAc3G,SAAQ,SAAAC,GAEpB,OADAA,EAAK6G,QAAUR,EAAcrG,EAAKA,MAC3BA,KAGTU,qBAAU,WACR,YAAIoG,SAASC,uBAAuB,uBAAuB7I,KAAI,SAAA8I,GAAG,OAChEA,EAAIC,uBAGR,IAAMnG,EAAc,SAAAC,GAClBA,EAAMmG,iBACN,IAAMrB,EAAaM,EACnBN,EAAW9F,SAAQ,SAAAmB,GACbA,EAAOlE,KAAO+D,EAAMoG,cAAcpI,OACpCmC,EAAOhB,YAAcgB,EAAOhB,WAC5Ba,EAAMoG,cAAchG,UAAUC,OAAOnF,EAAQ+H,sBAGjDvD,EACE,UACAoF,EAAWnH,QAAO,SAAAwC,GAAM,OAAIA,EAAOhB,cAAYhC,KAAI,SAAAgD,GAAM,OAAIA,EAAOlE,OAEtEoJ,EAAmBP,IAErB,OACE,kBAAC,WAAD,KACE,kBAACxE,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,UACxB,kBAACF,EAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,EAAA,EAAD,CAAM1C,MAAI,EAACjC,UAAWT,EAAQqI,cAC3BU,EAAQpE,OAAS,GAChB,kBAAC,IAAM1G,SAAP,KACE,kBAACS,EAAA,EAAD,CAAYyM,EAAG,EAAG3J,QAAQ,YAA1B,oBAGA,kBAAC,GAAD,CACEuH,QAASA,EACTC,cAAeW,EACfV,cAAeA,MAKvB,kBAAC7D,EAAA,EAAD,CAAM1C,MAAI,EAAC2C,WAAS,EAAC5F,QAAS,GAC3BgL,EAAcxI,KAAI,SAAC8B,EAAMqC,GAAP,OACjB,kBAAChB,EAAA,EAAD,CAAM1C,MAAI,EAAC0I,GAAI,EAAGrM,IAAKgF,EAAKA,MAC1B,kBAAC7F,EAAA,EAAD,CACEM,MAAM,OACNH,OAAO,OACPoC,UAAWT,EAAQ0I,WACnBlC,MAAO,CAAEkB,gBAAiB3D,EAAK2C,UAAUC,MAEzC,kBAACjI,EAAA,EAAD,CAAY8C,QAAQ,KAAKiE,UAAU,MAChC1B,EAAKA,MAER,kBAACrF,EAAA,EAAD,CAAY8C,QAAQ,YAAYiE,UAAU,KACvC1B,EAAKiD,aAMhB,kBAAC5B,EAAA,EAAD,CAAM1C,MAAI,EAAC2C,WAAS,EAAC5F,QAAS,GAC3BgL,EAAcxI,KAAI,SAAC8B,EAAMqC,GAAP,OACjB,kBAAChB,EAAA,EAAD,CACE1C,MAAI,EACJ0I,GAAI,EACJ/F,WAAS,EACT5E,UAAWT,EAAQkH,WACnBnI,IAAKgF,EAAKA,MAETA,EAAK6G,QAAQ3I,KAAI,SAACgD,EAAQmB,GACzB,OACE,kBAACiF,EAAA,EAAD,CACE3J,WAAW,EACX3C,IAAKkG,EAAOlE,GACZS,QAAQ,WACR0E,KAAK,QACLO,MAAM,YACN1F,GAAI,UAAYkE,EAAOlE,GACvB9B,MAAOgG,EAAOlE,GACd+B,KAAMmC,EAAOlE,GACbkG,QAASpC,EACTgB,SACEtB,EAAcG,QAAQC,QAAU,IAC/BJ,EAAcG,QAAQE,SAAS2E,OAAOtE,EAAOlE,KAEhDN,UAAWA,IACTT,EAAQoH,UACR7C,EAAcG,QAAQE,SAASK,EAAOlE,IAClCf,EAAQ+H,iBACR,OAGN,uBAAGtH,UAAU,eACX,0BAAMA,UAAU,aAAawE,EAAOlE,GAApC,KACCkE,EAAO4B,oB,kFC9U1ByE,GAAcC,IAAEC,UACpBD,IAAEE,aAAaF,IAAEG,QAAQ7H,EAAU,QAAS,GAC5C0H,IAAEE,aACAF,IAAEG,QAAQ7B,EAAWpH,QAJJ,SAAAwC,GAAM,OAAIA,EAAOlE,GAAG+I,MAAM,aAIA,SAC3C,SAAAE,GAAC,MAAK,CAAEY,QAASZ,KACjB,IAGEtF,GAAU6G,IAAEI,QAAQL,IAAa,SAAAtB,GAAC,OACtCuB,IAAEI,QAAQ3B,EAAEY,SAAS,SAAAgB,GAAC,sBAAUA,EAAV,CAAanF,MAAOuD,EAAEtD,UAAUC,YAGlDvH,GAAYC,MAAW,SAAAC,GAAK,MAAK,CACrCuM,eAAgB,CACd1N,QAAS,OACTC,cAAe,UAEjB0N,eAAgB,CACd,UAAW,CACT3N,QAAS,OACTC,cAAe,MACfyD,eAAgB,gBAChB,sBAAuB,CACrB,MAAO,CACL+E,WAAY,QAKpBmF,gBAAiB,CACf3N,cAAe,UAEjB4N,QAAS,CACP5N,cAAe,MACfuK,WAAY,UAEd1C,MAAO,CACLgG,SAAU,QAEZC,QAAS,CACP7I,UAAW,kBAEb8I,QAAS,GACTC,KAAM,CACJ/E,cAAe,YACfmB,SAAU,aAID6D,GAAgB,SAAArO,GAC3B,IAAMgC,EAAUZ,KACRkN,EAAqBtO,EAArBsO,OAAQC,EAAavO,EAAbuO,SAChB,OACE,kBAAC,WAAD,KACE,kBAACrO,EAAA,EAAD,CAAKM,MAAM,QACR8N,EACC,kBAAC,IAAMrO,SAAP,KACE,kBAACuO,GAAA,EAAD,CAAgBC,kBAAiBF,GAC/B,kBAACG,GAAA,EAAD,CAAuBjM,UAAWT,EAAQ8L,gBACvCQ,EAAOnK,WACN,kBAACzD,EAAA,EAAD,CAAY8H,MAAO,CAAEI,WAAY,MAC9B0F,EAAOnK,YAGV,kBAACzD,EAAA,EAAD,CAAY8H,MAAO,CAAEI,WAAY,MAAjC,UAED0F,EAAOxK,WAAawK,EAAOxK,WAAa,MAE3C,kBAAC6K,GAAA,EAAD,CAAuBlM,UAAWT,EAAQ+L,iBACxC,kBAAC,GAAD,CAAiBO,OAAQA,IACxBA,EAAOM,WAAWjI,OAAS,EAC1B,kBAAC,GAAD,CAAU2H,OAAQA,IAChB,QAIR,QAKNO,GAAkB,SAAA7O,GACtB,IAAMgC,EAAUZ,KACRkN,EAAWtO,EAAXsO,OACR,OACE,kBAACpO,EAAA,EAAD,CAAKM,MAAM,OAAOiC,UAAWT,EAAQ6L,gBACnC,kBAACnN,EAAA,EAAD,CAAY8C,QAAQ,YACD,WAAhB8K,EAAOtL,KAAoB,qBAAuB,kBADrD,IAEGsL,EAAOlK,mBAEV,kBAAClE,EAAA,EAAD,KACE,kBAACQ,EAAA,EAAD,CAAY8C,QAAQ,aACjBxC,EAAcyD,QACb,SAAAqK,GAAK,OAAIA,EAAM7N,QAAUqN,EAAOxL,WAChC6K,SAAQ,SAAAmB,GAAK,OAAIA,EAAMhO,WAG7B,kBAACiO,GAAA,EAAD,MACA,kBAAC7O,EAAA,EAAD,KACE,kBAACQ,EAAA,EAAD,CAAY8C,QAAQ,YAApB,4BACA,kBAAC9C,EAAA,EAAD,CAAY8C,QAAQ,aACjBxC,EAAcyD,QAAO,SAAAqK,GAAK,OACzBR,EAAO1J,iBAAiBgC,SAASkI,EAAM7N,UAEtC0M,SAAQ,SAAAmB,GAAK,OAAIA,EAAMhO,SACvBkO,KAAK,QAGZ,kBAACD,GAAA,EAAD,MACA,kBAACrO,EAAA,EAAD,CAAY8C,QAAQ,YAApB,qBACqB8K,EAAOzJ,UAE5B,kBAACkK,GAAA,EAAD,MACA,kBAACrO,EAAA,EAAD,CAAY8C,QAAQ,YAApB,gCACgC8K,EAAOvJ,gBAKhCkK,GAAW,SAAAjP,GAAU,IACxBsO,EAAWtO,EAAXsO,OACFtM,EAAUZ,KAChB,OACE,kBAAC0G,EAAA,EAAD,CAAgBL,UAAWM,KACzB,kBAACC,EAAA,EAAD,CAAOvF,UAAWT,EAAQiG,MAAOkD,aAAW,gBAAgBjD,KAAK,SAC/D,kBAACkD,EAAA,EAAD,KACE,kBAAC/C,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,gBACA,kBAACA,EAAA,EAAD,kBACA,kBAACA,EAAA,EAAD,gBACA,kBAACA,EAAA,EAAD,aACA,kBAACA,EAAA,EAAD,sBAGJ,kBAACH,EAAA,EAAD,KACGmG,EAAOM,WAAWjI,OAAS,EACxB2H,EAAOM,WAAW3K,KAAI,SAACiL,EAAKnO,GAAN,OACpB,kBAACsH,EAAA,EAAD,CAAUtH,IAAKA,GACb,kBAACuH,EAAA,EAAD,KACG,IACA4G,EAAIxI,QAAQ,GAAKwI,EAAIxI,QAAQ,GAAKwI,EAAI5I,MAAM,GAAI,KAEnD,kBAACgC,EAAA,EAAD,KACiC,QAA9B4G,EAAIzD,YAAYnE,UACf,kBAAC,KAAD,CAAiB7E,UAAWT,EAAQmM,UACJ,QAA9Be,EAAIzD,YAAYnE,UAClB,kBAAC,KAAD,CAAiB7E,UAAWT,EAAQkM,UAEpC,IAGJ,kBAAC5F,EAAA,EAAD,KACG4G,EAAIxI,QAAQ,GAAKwI,EAAIxI,QAAQ,GAAKwI,EAAI5I,MAAM,IAE/C,kBAACgC,EAAA,EAAD,KAAY4G,EAAIzD,YAAY1C,MAC5B,kBAACT,EAAA,EAAD,KAAY4G,EAAIzD,YAAYxK,WAGhC,SAMDkO,GAAkB,SAAC,GAAiB,IAAfpE,EAAc,EAAdA,QAE1BqE,EAAS9B,GAAYrJ,KAAI,SAAA8B,GAAI,MAAK,CACtChD,GAAIwI,OAAOxF,EAAKA,MAChBsJ,IAAKtJ,EAAK6G,QAAQjG,OAClB7F,MAAOyK,OAAOxF,EAAKA,MACnBuJ,SAAUvJ,EAAKA,KACf9E,MAAO8E,EAAKA,KACZwJ,MAAOxJ,EAAKA,KAAO,EACnByJ,IAAKzJ,EAAKA,KACV0C,MAAO1C,EAAK2C,UAAUC,QAGlB8G,EAAY/I,GAAQzC,KAAI,SAAAgD,GAAM,MAAK,CACvClE,GAAIkE,EAAOlE,GACXuM,SAAU/D,OAAOtE,EAAOlB,MACxBwJ,MAAOG,SAASzI,EAAOlE,GAAG4M,MAAM,KAAK,GAAK,GAC1CH,IAAKE,SAASzI,EAAOlE,GAAG4M,MAAM,KAAK,IACnC1O,MAAOyO,SAASzI,EAAOlE,GAAG4M,MAAM,KAAK,IACrClH,MAAOxB,EAAOwB,UAEVmH,EAAS7E,EAAQtG,QAAO,SAAAC,GAAI,OAAIA,EAAKgC,QAAQC,OAAS,KAAG1C,KAAI,SAAAS,GACjE,MAAO,CACLmL,OAAQ,CACN9M,GAAIwI,OAAO7G,EAAK4B,MAAM,IACtBiJ,MAAOG,SAAShL,EAAKgC,QAAQ,GAAGiJ,MAAM,KAAK,IAAM,EACjDH,IAAKE,SAAShL,EAAKgC,QAAQ,GAAGiJ,MAAM,KAAK,KAE3C1I,OAAQ,CACNlE,GAAIwI,OAAO7G,EAAK4B,MAAM,IACtBiJ,MAAOG,SAAShL,EAAKgC,QAAQ,GAAGiJ,MAAM,KAAK,IAAM,EACjDH,IAAKE,SAAShL,EAAKgC,QAAQ,GAAGiJ,MAAM,KAAK,KAE3CG,QAC4B,WAA1BpL,EAAK+G,YAAY1C,KACb,EAC0B,aAA1BrE,EAAK+G,YAAY1C,KACjB,GACA,GACN9H,MAC6B,aAA3ByD,EAAK+G,YAAYxK,MACb,EAC2B,aAA3ByD,EAAK+G,YAAYxK,OAChB,EACD,EACNH,MAAM,WAAD,OAAa4D,EAAKgC,QAAQ,GAA1B,2BAA0ChC,EAAKgC,QAAQ,QAIhE,OACE,yBAAKjE,UAAU,kBACb,kBAAC,KAAD,CACEyF,KAnDO,IAoDPkH,OAAQA,EACRW,OAAQ,CACNC,YAAa9H,IACb+H,YAAa/H,IACbgI,IAAK,IACLC,MAAO,CACLhQ,SAAS,GAEXiQ,OAAQ,CACNC,SAAU,SACVlQ,SAAS,EACT+H,KAAM,GACNO,MAAO,QACP6H,aAAc,KAGlBC,OAAQ,CACN,CACExH,KAAM,YACNyH,KAAMf,EACNM,OAAQ,CACNC,YAAa9H,IACb+H,YAAa/H,IACb4H,QAAS,IACTW,YAAa,QACbC,YAAa,GACbjI,MAAO,SAAAkI,GAAC,OAAIA,EAAElI,SAGlB,CACEM,KAAM,OACNyH,KAAMf,EAAUxL,KAAI,SAAA0M,GAGlB,OAFAA,EAAEN,UAAYM,EAAEpB,MAAQoB,EAAEnB,KAAO,EAAI,IACrCmB,EAAE1P,MAAQ0P,EAAE5N,GAAG4M,MAAM,KAAK,GACnBgB,KAETZ,OAAQ,CACNC,YAAa9H,IACb+H,YAAa/H,IACbM,MAAO,CACL,YAAa,EACb,cAAe,IACfoI,KAAM,SAAAD,GAAC,OACLpD,IAAEI,QAAQL,IAAa,SAAAtB,GAAC,OAAIA,EAAEtD,UAAUC,OAAKgI,EAAErB,SAAW,OAIlE,CACEvG,KAAM,SACNyH,KAAMZ,EACNG,OAAQ,CACND,QAAS,SAAAa,GAAC,OAAIA,EAAEb,SAChBrH,MAAO,SAAAkI,GAAC,OACNA,EAAE1P,MAAQ,EACN,cACA0P,EAAE1P,MAAQ,EACV,YACA,QACN4P,eAAgB,SAASF,GACvB,IAAM9F,EACJ8F,EAAE1P,MAAQ,EACN,wBACA0P,EAAE1P,MAAQ,EACV,wBACA,GACN,MAAM,OAAN,OAAc0P,EAAE7P,MAAhB,gBAA6B+J,EAA7B,iBASD,SAASiG,GAAQ9Q,GAAQ,IAC9BiC,EAAsBjC,EAAtBiC,SAAU8I,EAAY/K,EAAZ+K,QAClB,OACE,kBAAC,IAAM9K,SAAP,KACE,kBAACmH,EAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,EAAA,EAAD,CAAM1C,MAAI,EAAC0I,GAAI,IACb,kBAAC,GAAD,CACEkB,OAAM,eAAOrM,EAAP,CAAiB2M,WAAY7D,IACnCwD,UAAQ,OC9TpB,IAAMnN,GAAYC,aAAW,SAAA0P,GAAM,MAAK,CACtC1J,UAAW,CACTlH,QAAS,OACTC,cAAe,SACfyD,eAAgB,oBAmBLmN,OAff,SAAsBhR,GACpB,IAAMgC,EAAUZ,KAChB,OACE,kBAAC,IAAMnB,SAAP,KACE,kBAACC,EAAA,EAAD,CAAKG,OAAO,OAAOoC,UAAWT,EAAQqF,WACpC,kBAAC3G,EAAA,EAAD,CAAY8C,QAAQ,KAAK+E,MAAM,UAA/B,iCACA,kBAACuI,GAAD,CACE7O,SAAYjC,EAAMiC,SAClB8I,QAAW/K,EAAM+K,aCsDZkG,OArEf,SAAkBjR,GAAQ,IACjBkR,EAA0ClR,EAA1CkR,KAAMjP,EAAoCjC,EAApCiC,SAAUsE,EAA0BvG,EAA1BuG,cAAewE,EAAW/K,EAAX+K,QAC/BoG,EAAuDnR,EAAvDmR,eAAgB3K,EAAuCxG,EAAvCwG,oBAAqB4K,EAAkBpR,EAAlBoR,cACrCzF,EAAsC3L,EAAtC2L,oBAAqBV,EAAiBjL,EAAjBiL,cACrBoG,EAAsCrR,EAAtCqR,SAAUC,EAA4BtR,EAA5BsR,SAAUC,EAAkBvR,EAAlBuR,OAAQC,EAAUxR,EAAVwR,OAC5BrP,EAA0CnC,EAA1CmC,OAAQsP,EAAkCzR,EAAlCyR,UAAWC,EAAuB1R,EAAvB0R,QAASC,EAAc3R,EAAd2R,WAC5BC,EAAmD5R,EAAnD4R,iBAAkB1P,EAAiClC,EAAjCkC,aAAc2P,EAAmB7R,EAAnB6R,gBAEvC,OAAOX,GACL,KAAK,EACH,OACE,kBAAC,EAAD,CACEjP,SAAUA,EACVkP,eAAgBA,EAChBE,SAAUA,EACVlP,OAAQA,EACRsP,UAAWA,EACXC,QAASA,EACTC,WAAYA,EACZC,iBAAkBA,EAClB1P,aAAcA,EACd2P,gBAAiBA,IAGvB,KAAK,EACH,OACE,kBAAC,EAAD,CACEtL,cAAeA,EACfC,oBAAqBA,EACrB6K,SAAUA,EACVC,SAAUA,IAEhB,KAAK,EACH,OACE,kBAAC,GAAD,CACE/K,cAAeA,EACfC,oBAAqBA,EACrB2K,eAAgBA,EAChBC,cAAeA,EACfrG,QAASA,EACTY,oBAAqBA,EACrBV,cAAeA,EACfoG,SAAUA,EACVC,SAAUA,IAEhB,KAAK,EACH,OACE,kBAAC,IAAMrR,SAAP,KACE,kBAAC6Q,GAAD,CACE7O,SAAUA,EACV8I,QAASA,EACTyG,OAAQA,EACRF,SAAUA,KAGlB,KAAK,EACH,OACE,kBAAC,IAAMrR,SAAP,KACE,kBAAC,GAAD,CACE8K,QAASA,EACT9I,SAAUA,EACVsP,OAAQA,KAGhB,QACE,MAAM,IAAIO,MAAM,WC5DhB1Q,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC2G,MAAO,CACLzH,MAAO,OACPsB,UAAW,QACXwI,UAAW,OACXC,aAAc,OACd,UAAW,CACT,MAAO,CACLwH,WAAY,YACZtH,QAAS,aAIfuH,eAAgB,CACd7R,QAAS,OACTwK,WAAY,SACZsH,cAAe,OACf,uBAAwB,CACtBvI,gBAAiBpI,EAAMiI,QAAQC,QAAQC,KACvChB,MAAOnH,EAAMiI,QAAQC,QAAQG,aAC7BC,aAAc,OACdC,YAAa,MACbC,YAAa,OAEf,wBAAyB,CACvBU,SAAU,cAIHM,GAAY,SAAA9K,GACvB,IAAMgC,EAAUZ,KACR2J,EAAY/K,EAAZ+K,QACR,OACE,kBAACjD,EAAA,EAAD,CAAgBL,UAAWM,IAAOtF,UAAWT,EAAQiG,OACnD,kBAACD,EAAA,EAAD,CAAOE,KAAK,QAAQiD,aAAW,0BAC7B,kBAAChD,EAAA,EAAD,KACG4C,EAAQ9G,KAAI,SAACoH,EAAKtK,GAAN,OACX,kBAACsH,EAAA,EAAD,CAAUtH,IAAKA,GACb,kBAACuH,EAAA,EAAD,KACG+C,EAAI3E,QAAQ,GAAK2E,EAAI3E,QAAQ,GAAK2E,EAAI/E,MAAM,IAE/C,kBAACgC,EAAA,EAAD,KACE,kBAAC,GAAD,CAAkBhB,UAAW+D,EAAII,YAAYnE,aAE/C,kBAACgB,EAAA,EAAD,KACG+C,EAAI3E,QAAQ,GAAK2E,EAAI3E,QAAQ,GAAK2E,EAAI/E,MAAM,IAE/C,kBAACgC,EAAA,EAAD,KAAY+C,EAAII,YAAYxK,OAC5B,kBAACqH,EAAA,EAAD,KAAY+C,EAAII,YAAY1C,cAsL3BmJ,IC5OXC,GCiBAA,GF2NWD,GA9Kf,SAAkBlS,GAChB,IAAMgC,EAAUZ,KACR8P,EAA8BlR,EAA9BkR,KAAMrQ,EAAwBb,EAAxBa,WAAYkK,EAAY/K,EAAZ+K,QACpBqH,EAAQvR,EAAW4D,QAAO,SAAAuH,GAAC,OAAIA,EAAEjL,MAAQmQ,KAAM,GAAGpQ,MACxD,OAAQoQ,GACN,KAAK,EACH,OACE,kBAAC,IAAMjR,SAAP,KACE,kBAACS,EAAA,EAAD,CAAY8C,QAAQ,aAAa4O,IAGvC,KAAK,EACH,OACE,kBAAC,IAAMnS,SAAP,KACE,kBAACC,EAAA,EAAD,CAAKuC,UAAWT,EAAQgQ,gBACtB,kBAACtR,EAAA,EAAD,CAAY+G,UAAU,OAAOjE,QAAQ,YAAYiF,MAAM,WAAvD,QACQzI,EAAMkR,MAEd,kBAACxQ,EAAA,EAAD,CAAY+G,UAAU,OAAOjE,QAAQ,YAAYiF,MAAM,WACpD2J,IAGL,kBAAClS,EAAA,EAAD,KACE,kBAACQ,EAAA,EAAD,6SAUR,KAAK,EACH,OACE,kBAAC,IAAMT,SAAP,KACE,kBAACC,EAAA,EAAD,CAAKuC,UAAWT,EAAQgQ,gBACtB,kBAACtR,EAAA,EAAD,CAAY+G,UAAU,OAAOjE,QAAQ,YAAYiF,MAAM,WACpD,IADH,QAEQzI,EAAMkR,MAEd,kBAACxQ,EAAA,EAAD,CAAY+G,UAAU,OAAOjE,QAAQ,YAAYiF,MAAM,WACpD,IACA2J,IAGL,kBAAClS,EAAA,EAAD,KACE,kBAACQ,EAAA,EAAD,CAAYC,WAAW,EAAM6C,QAAQ,SAArC,0TAQA,kBAAC9C,EAAA,EAAD,CAAYC,WAAW,EAAM6C,QAAQ,SAArC,mEAIA,kBAAC9C,EAAA,EAAD,CAAYC,WAAW,EAAM6C,QAAQ,SAArC,8NASR,KAAK,EACH,OACE,kBAAC,IAAMvD,SAAP,KACE,kBAACC,EAAA,EAAD,CAAKuC,UAAWT,EAAQgQ,gBACtB,kBAACtR,EAAA,EAAD,CAAY8C,QAAQ,YAAYiE,UAAU,OAAOgB,MAAM,WAAvD,QACQzI,EAAMkR,MAEd,kBAACxQ,EAAA,EAAD,CAAY8C,QAAQ,YAAYiE,UAAU,OAAOgB,MAAM,WACpD2J,IAGL,kBAAClS,EAAA,EAAD,KACE,kBAACQ,EAAA,EAAD,CAAY8C,QAAQ,SAApB,+KAMA,4BACE,4BACE,kBAAC9C,EAAA,EAAD,CAAY8C,QAAQ,SAApB,iEAIF,4BACE,kBAAC9C,EAAA,EAAD,CAAY8C,QAAQ,SAApB,wGAKF,4BACE,kBAAC9C,EAAA,EAAD,CAAY8C,QAAQ,SAApB,uDAMJ,kBAAC9C,EAAA,EAAD,CAAY8C,QAAQ,SAApB,gHAKA,kBAAC9C,EAAA,EAAD,CAAY8C,QAAQ,SAApB,kGAKCuH,EAAQpE,OAAS,GAChB,kBAAC,IAAM1G,SAAP,KACE,wBAAIwC,UAAU,mBAAd,oBACA,kBAAC,GAAD,CAAWsI,QAASA,OAMhC,KAAK,EACH,OACE,kBAAC,IAAM9K,SAAP,KACE,kBAACC,EAAA,EAAD,CAAKuC,UAAWT,EAAQgQ,gBACtB,kBAACtR,EAAA,EAAD,CAAY8C,QAAQ,YAAYiE,UAAU,OAAOgB,MAAM,WAAvD,QACQzI,EAAMkR,MAEd,kBAACxQ,EAAA,EAAD,CAAY8C,QAAQ,YAAYiE,UAAU,OAAOgB,MAAM,WACpD2J,IAGL,kBAAClS,EAAA,EAAD,KACE,kBAACQ,EAAA,EAAD,CAAY8C,QAAQ,SAApB,+JAMA,kBAAC9C,EAAA,EAAD,CAAY8C,QAAQ,SAApB,2HAOR,KAAK,EACH,OACE,kBAAC,IAAMvD,SAAP,KACE,kBAACC,EAAA,EAAD,CAAKuC,UAAWT,EAAQgQ,gBACtB,kBAACtR,EAAA,EAAD,CAAY8C,QAAQ,QAAQiE,UAAU,OAAOgB,MAAM,WAAnD,QACQzI,EAAMkR,MAEd,kBAACxQ,EAAA,EAAD,CAAY8C,QAAQ,QAAQiE,UAAU,OAAOgB,MAAM,WAChD2J,IAGL,kBAAClS,EAAA,EAAD,KACE,kBAACQ,EAAA,EAAD,CAAY8C,QAAQ,SAApB,oCAGA,kBAAC9C,EAAA,EAAD,CAAY8C,QAAQ,SAApB,8DAMR,QACE,MAAM,IAAIsO,MAAM,WCvOhBO,GAAWhR,aAAW,SAAAC,GAAK,MAAK,CACpCgR,QAAS,CACPhI,UAAW,QAEbiI,eAAgB,CACd/R,MAAO,YA+CIgS,GA3CI,SAAAxS,GACjB,IAAMgC,EAAUqQ,KADU,EAEIlM,mBAAS,IAFb,mBAEnBsM,EAFmB,KAEVC,EAFU,KAmB1B,OAhBAjM,qBAAU,WACR,IAAMkM,EAAKC,sBAYX,OAVAT,GAAcQ,EACXE,WAAW,aACXC,QAAQ,UAAW,QACnBC,MAAM,GACNC,YAAW,SAAAC,GACV,IAAIR,EAAU,GACdQ,EAASnN,SAAQ,SAAAoN,GAAG,OAAIT,EAAQU,KAAR,eAAkBD,EAAI1C,YAC9CkC,EAAWD,MAGR,kBAAMN,QACZ,IAGD,kBAACjS,EAAA,EAAD,CAAKG,OAAO,OAAOG,MAAM,OAAOiC,UAAWT,EAAQsQ,SACjD,kBAAC5R,EAAA,EAAD,CAAY8C,QAAQ,MAApB,kBACA,kBAAC4D,EAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,EAAA,EAAD,CAAM1C,MAAI,EAAC2C,WAAS,EAAC+L,GAAI,EAAG3Q,UAAWT,EAAQuQ,gBAC5CE,EAAQ9L,OACL8L,EAAQxO,KAAI,SAACoP,EAAQjL,GACnB,OACE,kBAAClI,EAAA,EAAD,CAAKoT,GAAI,EAAG9S,MAAM,OAAOO,IAAKqH,GAC5B,kBAAC,GAAD,CAAekG,OAAQ+E,EAAQ9E,UAAU,QAI/C,MAEN,kBAACnH,EAAA,EAAD,CAAM1C,MAAI,EAAC0O,GAAI,GACZX,EAAQ9L,OACP,kBAAC,GAAD,CAAiBoE,QAAS4C,kBAAQ8E,EAAS,gBACzC,S,mBEhDRJ,GAAWhR,aAAW,SAAAC,GAAK,MAAK,CACpCgR,QAAS,CACPhI,UAAW,QAEbiI,eAAgB,CACd/R,MAAO,QAET+S,WAAY,CACVC,KAAM,mBAERxJ,WAAY,CACV4G,KAAM,QAER6C,KAAM,CACJC,OAAQ,QAEVC,KAAM,CACJ,WAAY,CACV/C,KAAM,YAKNgD,GAAc,SAAA5T,GAClB,IAAMgC,EAAUqQ,KACVwB,EAAcC,iBAAO,MACrBC,EAAWD,iBAAO,MAHG,EAID3N,mBAAS,QAJR,mBAIpB6N,EAJoB,KAIbC,EAJa,OAKH9N,oBAAS,GALN,mBAKpB+N,EALoB,KAKdC,EALc,KAQrBC,EAAO,WACX,IAAI5S,EAAgB,GAAhBA,EAA2B,EAA3BA,EAAsC,GAAtCA,EAAgD,GAIhDwK,EAAIqI,OAAerQ,MAAM,CAAC,EAHpB,MAIRsQ,EAAID,OAEDE,OAAO,CAAC,EAAG,IACXC,OAAM,GACTjS,EAAI8R,KAAgBA,MAElBI,EAAMJ,KACAR,EAAYa,SACnBC,OAAO,OACPC,KAAK,QAAS5S,EAAQuR,YACtBqB,KAAK,QAdE,IAcepT,EAAcA,GACpCoT,KAAK,SAdG,IAcgBpT,EAAaA,GACrCmT,OAAO,KACPC,KAAK,YAAa,aAAepT,EAAc,IAAMA,EAAa,KAErE6S,KACE,qFACAQ,MAAK,SAASC,GACd,IAAIC,EAAS,GACXC,EAAQF,EAAWE,MACnBC,EAAID,EAAMrO,OAGZqO,EAAMlP,SAAQ,SAASoP,EAAMC,GAC3BD,EAAKE,MAAQD,EACbD,EAAKG,MAAQ,EACbN,EAAOI,GAAKd,KAASY,GAAGhR,KAAI,SAASqR,GACnC,MAAO,CAAEtJ,EAAGsJ,EAAG1H,EAAGuH,EAAGb,EAAG,SAK5BQ,EAAWS,MAAMzP,SAAQ,SAASsI,GAChC2G,EAAO3G,EAAKyB,QAAQzB,EAAKnH,QAAQqN,GAAKlG,EAAKnN,MAC3C8T,EAAO3G,EAAKnH,QAAQmH,EAAKyB,QAAQyE,GAAKlG,EAAKnN,MAC3C8T,EAAO3G,EAAKyB,QAAQzB,EAAKyB,QAAQyE,GAAKlG,EAAKnN,MAC3C8T,EAAO3G,EAAKnH,QAAQmH,EAAKnH,QAAQqN,GAAKlG,EAAKnN,MAC3C+T,EAAM5G,EAAKyB,QAAQwF,OAASjH,EAAKnN,MACjC+T,EAAM5G,EAAKnH,QAAQoO,OAASjH,EAAKnN,SAInC,IAAIuU,EAAS,CACX1Q,KAAMuP,KAASY,GAAGQ,MAAK,SAASC,EAAGC,GACjC,OAAOtB,KAAaW,EAAMU,GAAG5Q,KAAMkQ,EAAMW,GAAG7Q,SAE9CuQ,MAAOhB,KAASY,GAAGQ,MAAK,SAASC,EAAGC,GAClC,OAAOX,EAAMW,GAAGN,MAAQL,EAAMU,GAAGL,SAEnCO,MAAOvB,KAASY,GAAGQ,MAAK,SAASC,EAAGC,GAClC,OAAOX,EAAMW,GAAGC,MAAQZ,EAAMU,GAAGE,UAKrC5J,EAAEuI,OAAOiB,EAAOxB,IAEhBS,EACGE,OAAO,QACPC,KAAK,QAAS5S,EAAQgI,YACtB4K,KAAK,QAhEA,KAiELA,KAAK,SAhEC,KAkET,IAAIvJ,EAAMoJ,EACPoB,UAAU,QACVrF,KAAKuE,GACLe,QACAnB,OAAO,KACPC,KAAK,QAAS,OACdA,KAAK,aAAa,SAASjE,EAAGwE,GAC7B,MAAO,eAAiBnJ,EAAEmJ,GAAK,OAEhCY,MA0CH,SAAe1K,GACbgJ,KAAU2B,MACPH,UAAU,SACVrF,KACCnF,EAAI5G,QAAO,SAASkM,GAClB,OAAOA,EAAE2D,MAGZwB,QACAnB,OAAO,QACPC,KAAK,QAAS,QACdA,KAAK,KAAK,SAASjE,GAClB,OAAO3E,EAAE2E,EAAE3E,MAEZ4I,KAAK,QAAS5I,EAAEiK,aAChBrB,KAAK,SAAU5I,EAAEiK,aACjBzN,MAAM,gBAAgB,SAASmI,GAC9B,OAAO2D,EAAE3D,EAAE2D,MAEZ9L,MAAM,QAAQ,SAASmI,GACtB,OAAOqE,EAAMrE,EAAE3E,GAAG4J,QAAUZ,EAAMrE,EAAE/C,GAAGgI,MACnCrT,EAAEyS,EAAMrE,EAAE3E,GAAG4J,OACb,QAELM,GAAG,YAAaC,GAChBD,GAAG,WAAYE,MAjEpB/K,EACGsJ,OAAO,QACPC,KAAK,QAAS5S,EAAQyR,MACtBmB,KAAK,KAjFA,KAmFRvJ,EACGsJ,OAAO,QACPC,KAAK,KAAM,GACXA,KAAK,IAAK5I,EAAEiK,YAAc,GAC1BrB,KAAK,KAAM,SACXA,KAAK,cAAe,OACpBjB,MAAK,SAAShD,EAAGwE,GAChB,OAAOH,EAAMG,GAAGrQ,QAGpB,IAAIuR,EAAS5B,EACVoB,UAAU,WACVrF,KAAKuE,GACLe,QACAnB,OAAO,KACPC,KAAK,QAAS,UACdA,KAAK,aAAa,SAASjE,EAAGwE,GAC7B,MAAO,aAAenJ,EAAEmJ,GAAK,kBA8CjC,SAASgB,EAAUG,GACjBjC,KAAa,aAAakC,QAAQ,UAAU,SAAS5F,EAAGwE,GACtD,OAAOA,IAAMmB,EAAE1I,KAEjByG,KAAa,gBAAgBkC,QAAQ,UAAU,SAAS5F,EAAGwE,GACzD,OAAOA,IAAMmB,EAAEtK,KAInB,SAASoK,IACP/B,KAAa,QACVO,KAAK,QAAS5S,EAAQ2R,MACtB4C,QAAQ,UAAU,GAvDvBF,EACG1B,OAAO,QACPC,KAAK,QAAS5S,EAAQyR,MACtBmB,KAAK,MA1GA,KA4GRyB,EACG1B,OAAO,QACPC,KAAK,IAAK,GACVA,KAAK,IAAK5I,EAAEiK,YAAc,GAC1BrB,KAAK,KAAM,SACXA,KAAK,cAAe,SACpBjB,MAAK,SAAShD,EAAGwE,GAChB,OAAOH,EAAMG,GAAGrQ,QA8CpBuP,KAAUN,EAASyC,SAASN,GAAG,UAAU,YAKzC,SAAmBjV,GACjB+K,EAAEuI,OAAOiB,EAAOvU,IAEhB,IAAIwV,EAAIhC,EAAIiC,aAAaC,SAAS,MAElCF,EAAEZ,UAAU,QACTe,OAAM,SAASjG,EAAGwE,GACjB,OAAc,EAAPnJ,EAAEmJ,MAEVP,KAAK,aAAa,SAASjE,EAAGwE,GAC7B,MAAO,eAAiBnJ,EAAEmJ,GAAK,OAEhCU,UAAU,SACVe,OAAM,SAASjG,GACd,OAAgB,EAAT3E,EAAE2E,EAAE3E,MAEZ4I,KAAK,KAAK,SAASjE,GAClB,OAAO3E,EAAE2E,EAAE3E,MAGfyK,EAAEZ,UAAU,WACTe,OAAM,SAASjG,EAAGwE,GACjB,OAAc,EAAPnJ,EAAEmJ,MAEVP,KAAK,aAAa,SAASjE,EAAGwE,GAC7B,MAAO,aAAenJ,EAAEmJ,GAAK,kBA7BjC0B,CAAU7C,UAiDhB,OAVAvN,qBAAU,WACJyN,GAGFL,EAAYa,QAAQoC,QAFpB1C,IAKFD,GAAQ,KACP,CAACC,EAAMF,IAGR,kBAAC,IAAMjU,SAAP,KACE,yBAAKwC,UAAU,eAAesU,IAAKlD,IACnC,kBAACnR,EAAA,EAAD,CACEE,SAlBqB,SAAAkE,GACzBmN,EAASnN,EAAMG,OAAOhG,QAkBlB8V,IAAKhD,EACLhR,GAAG,UACHJ,QAAM,EACN1B,MAAO+S,EACPxQ,QAAQ,YAER,kBAACG,EAAA,EAAD,CAAU5C,IAAI,OAAOE,MAAM,QAA3B,WAGA,kBAAC0C,EAAA,EAAD,CAAU5C,IAAI,QAAQE,MAAM,SAA5B,gBAGA,kBAAC0C,EAAA,EAAD,CAAU5C,IAAI,QAAQE,MAAM,SAA5B,iBAoBO+V,GAZC,SAAAhX,GACd,IAAMgC,EAAUqQ,KAEhB,OACE,kBAACnS,EAAA,EAAD,CAAKG,OAAO,OAAOG,MAAM,OAAOiC,UAAWT,EAAQsQ,SACjD,kBAAC5R,EAAA,EAAD,CAAY8C,QAAQ,OACpB,kBAACtD,EAAA,EAAD,CAAKM,MAAM,QAAQH,OAAO,QAAQ0C,GAAG,WACnC,kBAAC,GAAD,CAAayN,KAAMsE,QC1RdmC,GAAiB,CAC1BC,OAAQ,0CACRC,WAAY,8BACZC,YAAa,qCACbC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,eACnBC,MAAO,6C,UFkBLlW,GAAQmW,YAAe,CAC3BlO,QAAS,CACPC,QAAS,CACPS,MAAO,UACPyN,KAAM,UACNjO,KAAM,UACNE,aAAc,QAEhBgO,UAAW,CACTlO,KAAM,UACNE,aAAc,QAEhBK,WAAY,CACVnI,MAAO,OACP+V,QAAS,UACT3N,MAAO,cAMP7I,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJlB,OAAQ,QACRF,QAAS,OACTC,cAAe,MACfuB,SAAU,SACVkW,SAAU,SACVrW,OAAQ,MACRsW,UAAW,cAEbC,QAAS,CACP5X,QAAS,OACTC,cAAe,SACfC,OAAQ,OACR8J,WAAY,GAEd6N,OAAQ,CACNhO,WAAY,6BACZI,mBAAoB,SACpB6N,eAAgB,QAChBC,UAAW,QACXC,aAAa,aAAD,OAAe7W,EAAMiI,QAAQC,QAAQC,OAEnD2O,SAAU,CACR1O,gBAAiB,UACjBe,QAAS,OACTH,UAAW,QAEb+N,WAAY,CACV3O,gBAAiBpI,EAAMiI,QAAQC,QAAQC,KACvC6O,gBAAgB,8BAChBlO,mBAAoB,SACpB6N,eAAgB,QAChB5X,OAAQ,QAEVkY,kBAAmB,CACjBpY,QAAS,OACT0D,eAAgB,WAChB4G,QAAS,GACTf,gBAAiBpI,EAAMiI,QAAQS,WAAW4N,QAC1CY,eAAgB,MAChBC,eAAgB,QAChBC,eAAgBpX,EAAMiI,QAAQC,QAAQC,MAExCkP,UAAW,CACTxY,QAAS,OACTE,OAAQ,OACRwD,eAAgB,SAChBsF,aAAc,aACdsB,QAAS,OACTwH,cAAe,GAEjB2G,aAAc,CACZzY,QAAS,OACTC,cAAe,SACfC,OAAQ,OACRG,MAAO,QAETqY,YAAa,CACXpO,QAAS,OACThK,SAAU,EACV6J,UAAW,QAEbwO,YAAa,CACXC,eAAgB,OAChBtQ,MAAOnH,EAAMiI,QAAQC,QAAQG,kBAI3BqP,GAAc,SAAAhZ,GAAU,IAAD,EACGmG,mBAAS,IADZ,mBACpBsM,EADoB,KACXC,EADW,KAErB1Q,EAAUZ,KA8BhB,OA7BAqF,qBAAU,WACR,IAAMkM,EAAKC,sBAyBX,OAxBAT,GAAcQ,EACXE,WAAW,aACXC,QAAQ,UAAW,QACnBE,YAAW,SAAAC,GACV,IAAIR,EAAU,GACdQ,EAASnN,SAAQ,SAAAoN,GACf,IAAI1C,EAAO0C,EAAI1C,OACf,OAAOiC,EAAQU,KACb3C,EAAK5B,WAAWjB,SAAQ,SAAAjJ,GAAI,MAAK,CAC/B3B,GAAI2B,EAAKgC,QAAQsI,KAAK,KACtB7K,WAAYqM,EAAKrM,WACjBL,WAAY0M,EAAK1M,WACjBmV,MAAOvU,EAAK4B,MAAM,GAClB4S,MAAOxU,EAAK4B,MAAM,GAClB6S,QAASzU,EAAKgC,QAAQ,GACtB0S,QAAS1U,EAAKgC,QAAQ,GACtB+E,YAAa/G,EAAK+G,YAAYxK,MAC9BoY,UAAW3U,EAAK+G,YAAYnE,UAC5BtE,KAAM0B,EAAK+G,YAAY1C,aAI7B2J,EAAWD,EAAQ9E,SAAQ,SAAA3B,GAAC,OAAIA,SAE7B,kBAAMmG,QACZ,IAGD,kBAAC,WAAD,KACGM,EAAQ9L,OAAS,EAChB,kBAAC,WAAD,CACE6J,KAAMiC,EACN6G,SAAU,kBACVrS,OAAO,SACPxE,UAAWT,EAAQ8W,YACnB7P,QAAS,SAAAnC,GACPyS,QAAQC,IAAI/G,KANhB,gBAWE,OAKV,SAASgH,GAASzZ,GAChB,IAAMgC,EAAUZ,KACR8P,EAA6ClR,EAA7CkR,KAAMG,EAAuCrR,EAAvCqR,SAAUC,EAA6BtR,EAA7BsR,SAAUE,EAAmBxR,EAAnBwR,OAAQD,EAAWvR,EAAXuR,OAClCxG,EAAqC/K,EAArC+K,QAASxE,EAA4BvG,EAA5BuG,cAAetE,EAAajC,EAAbiC,SACxBgJ,EAA4DjL,EAA5DiL,cAAeU,EAA6C3L,EAA7C2L,oBAAqBnF,EAAwBxG,EAAxBwG,oBACpC2K,EAAkCnR,EAAlCmR,eAAgBC,EAAkBpR,EAAlBoR,cAChBjP,EAA2CnC,EAA3CmC,OAAQsP,EAAmCzR,EAAnCyR,UAAWC,EAAwB1R,EAAxB0R,QAASC,EAAe3R,EAAf2R,WAC5BC,EAAoD5R,EAApD4R,iBAAkB1P,EAAkClC,EAAlCkC,aAAc2P,EAAoB7R,EAApB6R,gBAChChR,EAAeb,EAAfa,WAER,OACE,kBAACuG,EAAA,EAAD,CAAMC,WAAS,EAAC5E,UAAWT,EAAQT,MACjC,kBAAC,IAAD,CAAQmY,SAAS,KACf,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,YACV,kBAACvS,EAAA,EAAD,CAAM1C,MAAI,EAACjC,UAAWT,EAAQ+V,QAAS3K,GAAI,GACzC,kBAAClN,EAAA,EAAD,CAAKuC,UAAWT,EAAQgW,SACxB,kBAAC9X,EAAA,EAAD,CAAKuC,UAAWT,EAAQoW,SAAU3X,SAAU,GAC1C,kBAACP,EAAA,EAAD,CAAKG,OAAO,UAEd,kBAACH,EAAA,EAAD,CAAKuC,UAAWT,EAAQuW,mBACtB,kBAAClL,EAAA,EAAD,CACE7J,QAAQ,YACRiF,MAAM,UACNP,KAAK,QACLzF,UAAWT,EAAQ4X,OACnBC,UAAW,kBAAC,IAAD,OAEX,kBAAC,GAAD,SAIN,kBAACzS,EAAA,EAAD,CAAM1C,MAAI,EAAC2C,WAAS,EAAC5E,UAAWT,EAAQ2W,UAAWvL,GAAI,GACrD,kBAAClN,EAAA,EAAD,CAAKuC,UAAWT,EAAQ4W,cACtB,kBAAC,GAAD,SAIN,kBAAC,IAAD,CAAOe,KAAK,YACV,kBAACvS,EAAA,EAAD,CAAM1C,MAAI,EAACjC,UAAWT,EAAQ+V,QAAS3K,GAAI,GACzC,kBAAClN,EAAA,EAAD,CAAKuC,UAAWT,EAAQgW,SACxB,kBAAC9X,EAAA,EAAD,CAAKuC,UAAWT,EAAQoW,SAAU3X,SAAU,IAC5C,kBAACP,EAAA,EAAD,CAAKuC,UAAWT,EAAQqW,cAE1B,kBAACjR,EAAA,EAAD,CAAM1C,MAAI,EAAC2C,WAAS,EAAC5E,UAAWT,EAAQ2W,UAAWvL,GAAI,GACrD,kBAAClN,EAAA,EAAD,CAAKuC,UAAWT,EAAQ4W,cACtB,0DAKN,kBAAC,IAAD,CAAOe,KAAK,YACV,kBAACvS,EAAA,EAAD,CAAM1C,MAAI,EAACjC,UAAWT,EAAQ+V,QAAS3K,GAAI,GACzC,kBAAClN,EAAA,EAAD,CAAKuC,UAAWT,EAAQgW,SACxB,kBAAC9X,EAAA,EAAD,CAAKuC,UAAWT,EAAQoW,SAAU3X,SAAU,IAC5C,kBAACP,EAAA,EAAD,CAAKuC,UAAWT,EAAQqW,cAE1B,kBAACjR,EAAA,EAAD,CAAM1C,MAAI,EAAC2C,WAAS,EAAC5E,UAAWT,EAAQ2W,UAAWvL,GAAI,GACrD,kBAAClN,EAAA,EAAD,CAAKuC,UAAWT,EAAQ4W,cACtB,kBAAC,GAAD,SAIN,kBAAC,IAAD,CAAOe,KAAK,KACV,kBAACvS,EAAA,EAAD,CAAM1C,MAAI,EAACjC,UAAWT,EAAQ+V,QAAS3K,GAAI,GACzC,kBAAClN,EAAA,EAAD,CAAKuC,UAAWT,EAAQgW,SACxB,kBAAC9X,EAAA,EAAD,CAAKuC,UAAWT,EAAQoW,SAAU3X,SAAU,GAC1C,kBAAC,GAAD,CACEsK,QAASA,EACTY,oBAAqBA,EACrBuF,KAAMA,EACNrQ,WAAYA,KAGhB,kBAACX,EAAA,EAAD,CAAKuC,UAAWT,EAAQqW,cAE1B,kBAACjR,EAAA,EAAD,CAAM1C,MAAI,EAAC2C,WAAS,EAAC5E,UAAWT,EAAQ2W,UAAWvL,GAAI,GACrD,kBAAClN,EAAA,EAAD,CAAKuC,UAAWT,EAAQ4W,cACZ,IAAT1H,EACC,kBAAC,WAAD,KACE,kBAAChR,EAAA,EAAD,CAAKuC,UAAWT,EAAQ6W,aACtB,kBAAC,EAAD,CAAYxH,SAAUA,KAExB,kBAACnR,EAAA,EAAD,CAAKoT,GAAG,QACN,kBAACwG,EAAA,EAAD,CAAatW,QAAQ,YAAYiF,MAAM,WACrC,kBAAC4E,EAAA,EAAD,CAAQpE,QAASoI,GAAjB,kBAKN,kBAAC,WAAD,KACE,kBAACnR,EAAA,EAAD,CAAKuC,UAAWT,EAAQ6W,aACtB,kBAAC,GAAD,CACE3H,KAAMA,EACNjP,SAAUA,EACVsE,cAAeA,EACfwE,QAASA,EACToG,eAAgBA,EAChB3K,oBAAqBA,EACrB4K,cAAeA,EACfnG,cAAeA,EACfU,oBAAqBA,EACrB0F,SAAUA,EACVC,SAAUA,EACVC,OAAQA,EACRC,OAAQA,EACRrP,OAAQA,EACRsP,UAAWA,EACXC,QAASA,EACTC,WAAYA,EACZC,iBAAkBA,EAClB1P,aAAcA,EACd2P,gBAAiBA,KAGrB,kBAAC3R,EAAA,EAAD,CAAKoT,GAAG,QACN,kBAACwG,EAAA,EAAD,CAAatW,QAAQ,YAAYiF,MAAM,WACpC,CAAC,EAAG,EAAG,GAAG7B,SAASsK,GAClB,kBAAC7D,EAAA,EAAD,CAAQpE,QAASqI,GAAjB,YACE,KACM,IAATJ,EACC,kBAAC7D,EAAA,EAAD,CAAQpE,QAASuI,GAAjB,UACE,KACM,IAATN,EACC,kBAAC7D,EAAA,EAAD,CAAQpE,QAASoI,GAAjB,QACE,KACM,IAATH,EACC,kBAAC7D,EAAA,EAAD,CACEpE,QAASoI,EACTxJ,UAAWtB,EAAcD,MAAMK,QAFjC,QAME,KACM,IAATuK,EACC,kBAAC7D,EAAA,EAAD,CAAQpE,QAAS4I,GAAjB,QACE,KACM,IAATX,EACC,kBAAC7D,EAAA,EAAD,CAAQpE,QAASsI,GAAjB,SACE,KACM,IAATL,EACC,kBAAC7D,EAAA,EAAD,CAAQpE,QAASmI,GAAjB,uBAGE,cG1SR2I,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASpO,MACvB,2DCZNqO,IAASC,OAAO,mBJ8TD,WACRC,OAAK1T,QACR2T,wBAAcrD,IAFY,MAMJ9Q,mBAAS,GANL,mBAMrB+K,EANqB,KAMfqJ,EANe,OAOIpU,mBAAS,CACvCnD,KAAM,SACNc,WAAY,GACZC,MAAM,IAAIyW,MAAOC,cACjBtW,WAAY,GACZC,kBAAmB,GACnBtB,QAAS,GACT8B,iBAAkB,GAClBC,SAAU,GACVE,aAAc,KAhBY,mBAOrB9C,EAPqB,KAOXyY,EAPW,OAkBcvU,mBAAS,CACjDG,MAAO,GACPI,QAAS,GACT+E,YAAa,CACXxK,MAAO,GACP8H,KAAM,GACNzB,UAAW,MAxBa,mBAkBrBf,EAlBqB,KAkBNoU,EAlBM,OA2BExU,mBAAS,IA3BX,mBA2BrB4E,EA3BqB,KA2BZ2H,EA3BY,OA4BEvM,qBA5BF,mBA4BrBuL,EA5BqB,KA4BZC,EA5BY,OA6BAxL,mBAAS,CACnCnD,KAAM,GACNmB,WAAY,GACZL,WAAY,GACZC,KAAM,GACNK,kBAAmB,GACnBtB,QAAS,GACT8B,iBAAkB,GAClBC,SAAU,GACVE,aAAc,KAtCY,mBA6BrB5C,EA7BqB,KA6BbsP,EA7Ba,KAkFtBN,EAAiB,SAACyJ,EAAOpK,GAC7BkK,EAAY,eACPzY,EADM,kBAEH2Y,EAAQpK,MAuCZa,EAAW,SAAAvK,GACfA,EAAMmG,iBACNsN,EAAQrJ,EAAO,IA+BXU,EAAmB,SAAA9K,GACvB,IAAI+T,GAAU,EACVC,EAAS3Y,EAab,OAXKF,EAASkC,aACZ2W,EAAO3W,WAAa,8BACpB0W,GAAU,GAEP5Y,EAAS6B,aACZgX,EAAOhX,WAAa,iDACpB+W,GAAU,GAGZlJ,EAAWkJ,GACXpJ,EAAU,eAAKtP,EAAN,GAAiB2Y,IACnBD,GAwCT,OACE,kBAACE,EAAA,EAAD,CAAezZ,MAAOA,IACpB,kBAACmY,GAAD,CACE1O,QAASA,EACTY,oBAtJsB,SAAA7E,GAC1B4L,EACE3H,EAAQtG,QAAO,SAACxD,EAAOmH,GAAR,OAAgBmD,OAAOnD,KAAStB,EAAMoG,cAAcpI,UAqJjEmG,cAlJgB,SAAA+P,GAAK,OAAI,SAAAlU,GAC7B,IAAMmU,EAAYlQ,EAAQ9G,KAAI,SAACoP,EAAQjL,GACrC,OAAImD,OAAOnD,KAAStB,EAAMG,OAAOnC,MAC/BuO,EAAO5H,YAAYuP,GAASlU,EAAMG,OAAOhG,MAClCoS,GAEAA,KAGXX,EAAWuI,KA0IP/J,KAAMA,EACNrQ,WAAYA,EACZwQ,SAAUA,EACVpP,SAAUA,EACVsE,cAAeA,EACf4K,eAAgBA,EAChB3K,oBAxIsB,SAACwU,EAAO/Z,GAClC0Z,EAAiB,eACZpU,EADW,eAEbyU,EAAQ/Z,MAsIPmQ,cAvLgB,SAAAtK,GACpBA,EAAMmG,iBAIN,IAAIiO,EAAiB3U,EAEnB2U,EADE3U,EAAcG,QAAQC,QAAU,EACpB,eACTuU,EADS,CAEZ5U,MAAO4U,EAAe5U,QAGV,eACT4U,EADS,CAEZ5U,MAAO4U,EAAexU,QAAQzC,KAAI,SAAA+H,GAAC,OAAI0D,SAAS1D,EAAE2D,MAAM,KAAK,SAGjE+C,EAAW,CAACwI,GAAF,mBAAqBnQ,KAC/B4P,EAAiB,eACZpU,EADW,CAEdG,QAAS,GACT+E,YAAa,CAAExK,MAAO,GAAI8H,KAAM,GAAIzB,UAAW,QAmK7CgK,SAlGW,SAAAxK,GACfA,EAAMmG,iBACNsN,EAAQrJ,EAAO,IAiGXK,OA/FS,SAAAzK,GACbA,EAAMmG,iBACNyF,EAAW,IACXiI,EAAiB,CACfrU,MAAO,GACPI,QAAS,GACT+E,YAAa,CACXxK,MAAO,GACP8H,KAAM,GACNzB,UAAW,MAGfoT,EAAY,CACV1X,KAAMf,EAASe,KACfc,WAAY,GACZC,KAAM,KACNI,WAAY,GACZC,kBAAmB,GACnBtB,QAAS,GACT8B,iBAAkB,GAClBC,SAAU,GACVE,aAAc,KAEhBwV,EAAQ,IAyEJ/I,OAzHS,SAAA1K,GACbA,EAAMmG,iBAdU,SAAAuD,GACPoC,sBACNC,WAAW,aACXsI,IADH,eACY3K,EADZ,CACkB4K,QAASxI,YAAUyI,UAAUC,SAAS,IAAId,SACzD3F,MAAK,SAAS0G,GACbhC,QAAQC,IAAI,6BAA8B+B,EAAOxY,OAElDyY,OAAM,SAAS3Y,GACd0W,QAAQ1W,MAAM,0BAA2BA,MAmB7C4Y,CAZa,CACXzY,KAAMf,EAASe,KACfc,WAAY7B,EAAS6B,WACrBC,KAAM9B,EAAS8B,KACfI,WAAYlC,EAASkC,WACrBC,kBAAmBnC,EAASmC,kBAC5BtB,QAASb,EAASa,QAClB8B,iBAAkB3C,EAAS2C,iBAC3BC,SAAU5C,EAAS4C,SACnBE,aAAc9C,EAAS8C,aACvB6J,WAAY7D,IAGdsG,EAASvK,IA2GL3E,OAAQA,EACRsP,UAAWA,EACXC,QAASA,EACTC,WAAYA,EACZC,iBAAkBA,EAClB1P,aA5DmB,SAAA8Y,GAAK,OAAI,SAAAlU,GAChC,IAWI4U,EAXAZ,EAAS3Y,EACPwZ,EAASX,EAAMrL,MAAM,KACvBgM,EAAOhV,OAAS,EAClBmU,EAAOa,EAAO,IAAM,GAEpBb,EAAOa,EAAO,IAAd,eAAyBb,EAAOa,EAAO,IAAvC,eAA6CA,EAAO,GAAK,KAI3DhK,EAAW,IACXF,EAAU,eAAKtP,EAAN,GAAiB2Y,IAGxBY,EADE5U,EAAMG,OACGH,EAAMG,OAAOhG,MACf6F,EAAM7F,MACJ6F,EAAM7F,MAEN6F,EAEC,eAAVkU,IACFU,EAAWA,EAASlZ,eAEtB2O,EAAe6J,EAAOU,KAsClB7J,gBApCkB,SAAA/K,GACtBA,EAAMmG,iBACU2E,KAOdP,EAASvK,SI9gBC,MAAS+F,SAAS+O,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMlH,MAAK,SAAAmH,GACjCA,EAAaC,iB","file":"static/js/main.645387fe.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Box, Typography } from \"@material-ui/core\";\r\n\r\nconst FrontCover = props => {\r\n  return (\r\n    <React.Fragment>\r\n      <Box display=\"flex\" flexDirection=\"column\" height=\"100%\">\r\n        <Box>\r\n          <img\r\n            src=\"images/SDG-Logo-Horizontal.png\"\r\n            alt=\"Towards SDG\"\r\n            width=\"100%\"\r\n          />\r\n        </Box>\r\n        <Box flexGrow={1}>\r\n          <Typography paragraph={true}>\r\n            Welcome to the NMBU SDG-mapping portal. NMBU contributes\r\n            substantially to the fulfillment of the SDGs and Agenda 2030 through\r\n            research, education and innovation. This portal is constructed to\r\n            increase the awareness of these contributionsand to give support to\r\n            further education, dissemination and collaboration.\r\n          </Typography>\r\n\r\n          <Typography paragraph={true}>\r\n            The Agenda 2030 with its 17 main goals and 169 sub-goals expresses a\r\n            complex system of interdependent challenges. It is therefore crucial\r\n            that we manage to bring attention to the interactions (synergies and\r\n            trade-offs) between the goals in order to provide balanced and\r\n            science based advise to decision- and policy makers. This portal\r\n            therefore aims at tracking how we at NMBU work with these\r\n            interactions in our research papers.\r\n          </Typography>\r\n\r\n          <Typography paragraph={true}>\r\n            On the next few pages you are asked to provide some basic\r\n            information on the SDG-relevance of your own research. The SDG-map\r\n            of NMBU, which will be an output from this portal, depends on your\r\n            input and your contribution. You may register as many main author\r\n            contributions as you like which were published or accepted for\r\n            publication in the period 2010-2019.\r\n          </Typography>\r\n        </Box>\r\n        <Box>\r\n          <Link to=\"/records\"></Link>\r\n        </Box>\r\n      </Box>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default FrontCover;\r\n","// Configuration of Different Steps for MySteppter\r\nexport const StepConfig = [\r\n  { label: \"NMBU SDG-mapping portal for education\", key: 0 },\r\n  { label: \"Course Information\", key: 1 },\r\n  { label: \"Goals\", key: 2 },\r\n  { label: \"Targets\", key: 3 },\r\n  { label: \"Summary\", key: 4 },\r\n  { label: \"Confirmation\", key: 5 }\r\n];\r\n\r\nexport const FacultyConfig = [\r\n  { value: \"Biovit\", label: \"Biosciences\" },\r\n  { value: \"KBM\", label: \"Chemistry, Biotechnology and Food Science\" },\r\n  {\r\n    value: \"MINA\",\r\n    label: \"Environmental Sciences and Natural Resource Management\"\r\n  },\r\n  { value: \"Landsam\", label: \"Landscape and Society\" },\r\n  { value: \"HH\", label: \"School of Economics and Business\" },\r\n  { value: \"Realtek\", label: \"Science and Technology\" },\r\n  { value: \"Vet\", label: \"Veterinary Medicine\" },\r\n  { value: \"Other\", label: \"Other institution\" }\r\n];\r\n\r\nexport const SustainFocusOption = [\r\n  {\r\n    value: \"Indirect Focus/ Basic Science\",\r\n    label: \"Indirect Focus/ Basic Science\"\r\n  },\r\n  {\r\n    value: \"Learning about sustainability (content focus)\",\r\n    label: \"Learning about sustainability (content focus)\"\r\n  },\r\n  {\r\n    value: \"Learning for sustainablity (generic competences training)\",\r\n    label: \"Learning for sustainablity (generic competences training)\"\r\n  },\r\n  {\r\n    value: \"Learning as sustainability (students as change makers)\",\r\n    label: \"Learning as sustainability (students as change makers)\"\r\n  }\r\n];\r\n\r\nexport const TeachingOption = [\r\n  {\r\n    value: \"Theoretical with lectures\",\r\n    label: \"Theoretical with lectures\"\r\n  },\r\n  {\r\n    value: \"Applied/ case-based with lectures\",\r\n    label: \"Applied/ case-based with lectures\"\r\n  },\r\n  {\r\n    value: \"Theoretical with student active teaching\",\r\n    label: \"Theoretical with student active teaching\"\r\n  },\r\n  {\r\n    value: \"Applied/ case-based with student active teaching\",\r\n    label: \"Applied/ case-based with student active teaching\"\r\n  }\r\n];\r\n","import React, { Fragment } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Chip, TextField, MenuItem, Box } from \"@material-ui/core\";\r\nimport { range } from \"lodash\";\r\nimport {\r\n  FacultyConfig,\r\n  TeachingOption,\r\n  SustainFocusOption\r\n} from \"../config/app-config\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    \"& > *\": {\r\n      margin: theme.spacing(1)\r\n    }\r\n  },\r\n  chips: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  chip: {\r\n    margin: 2\r\n  },\r\n  paper: {\r\n    maxHeight: \"250px\"\r\n  }\r\n}));\r\n\r\nfunction Personal(props) {\r\n  const classes = useStyles();\r\n  const { FormData, HandleChange, Errors } = props;\r\n  const toProper = string => string.replace(/^\\w/, c => c.toUpperCase());\r\n\r\n  return (\r\n    <Fragment>\r\n      <form className={classes.root}>\r\n        <TextField\r\n          select\r\n          onChange={HandleChange(\"Type\")}\r\n          error={Errors.Faculty !== \"\"}\r\n          id=\"type\"\r\n          value={FormData.Type}\r\n          label=\"Type\"\r\n          SelectProps={{\r\n            MenuProps: {\r\n              getContentAnchorEl: null,\r\n              anchorOrigin: {\r\n                vertical: \"bottom\",\r\n                horizontal: \"left\"\r\n              }\r\n            }\r\n          }}\r\n          helperText=\"Select if the record is for a course or thesis.\"\r\n          variant=\"outlined\"\r\n          autoFocus={true}\r\n          fullWidth={true}\r\n        >\r\n          <MenuItem key=\"course\" value=\"course\" dense>\r\n            Course\r\n          </MenuItem>\r\n          <MenuItem key=\"thesis\" value=\"thesis\" dense>\r\n            Thesis\r\n          </MenuItem>\r\n        </TextField>\r\n        <Box\r\n          display=\"flex\"\r\n          flexDirection=\"row\"\r\n          width=\"100%\"\r\n          justifyContent=\"space-between\"\r\n        >\r\n          <Box width=\"48%\">\r\n            <TextField\r\n              onChange={HandleChange(\"CourseCode\")}\r\n              error={Errors.CourseCode !== \"\"}\r\n              id=\"course-code\"\r\n              value={FormData.CourseCode.toUpperCase()}\r\n              label={toProper(FormData.Type) + \" Code\"}\r\n              helperText={\r\n                Errors.CourseCode !== \"\"\r\n                  ? Errors.CourseCode\r\n                  : `See Student web for ${FormData.Type} code`\r\n              }\r\n              variant=\"outlined\"\r\n              fullWidth={true}\r\n            />\r\n          </Box>\r\n          <Box width=\"48%\">\r\n            <TextField\r\n              select\r\n              SelectProps={{\r\n                MenuProps: {\r\n                  className: classes.paper,\r\n                  getContentAnchorEl: null,\r\n                  anchorOrigin: {\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"left\"\r\n                  }\r\n                }\r\n              }}\r\n              onChange={HandleChange(\"Year\")}\r\n              error={Errors.Year !== \"\"}\r\n              id=\"course-year\"\r\n              value={FormData.Year}\r\n              label={toProper(FormData.Type) + \" Year\"}\r\n              helperText=\"Year in which the course is conducted.\"\r\n              variant=\"outlined\"\r\n              fullWidth={true}\r\n            >\r\n              {range(2000, 2035, 1).map(yr => (\r\n                <MenuItem key={yr} value={yr} dense>\r\n                  {yr}\r\n                </MenuItem>\r\n              ))}\r\n            </TextField>\r\n          </Box>\r\n        </Box>\r\n        <TextField\r\n          onChange={HandleChange(\"CourseName\")}\r\n          error={Errors.CourseName !== \"\"}\r\n          id=\"course-name\"\r\n          value={FormData.CourseName}\r\n          label={`${toProper(FormData.Type)} ${\r\n            FormData.Type === \"course\" ? \"Name\" : \"Title\"\r\n          }`}\r\n          helperText={\r\n            Errors.CourseName !== \"\"\r\n              ? Errors.CourseName\r\n              : `${FormData.Type === \"course\" ? \"Name\" : \"Title\"} \r\n                of ${FormData.Type}`\r\n          }\r\n          variant=\"outlined\"\r\n          fullWidth={true}\r\n        />\r\n        <TextField\r\n          onChange={HandleChange(\"CourseResponsible\")}\r\n          error={Errors.CourseResponsible !== \"\"}\r\n          id=\"course-responsible\"\r\n          value={FormData.CourseResponsible}\r\n          label={`${\r\n            FormData.Type === \"course\"\r\n              ? \"Course Responsible\"\r\n              : \"Main Supervisor\"\r\n          }`}\r\n          helperText={`Name of ${\r\n            FormData.Type === \"course\"\r\n              ? \"Person Responsible for the course\"\r\n              : \"Main Supervisor\"\r\n          }`}\r\n          variant=\"outlined\"\r\n          fullWidth={true}\r\n        />\r\n        <TextField\r\n          select\r\n          onChange={HandleChange(\"Faculty\")}\r\n          error={Errors.Faculty !== \"\"}\r\n          id=\"faculty\"\r\n          value={FormData.Faculty.toUpperCase()}\r\n          label=\"Faculty\"\r\n          SelectProps={{\r\n            MenuProps: {\r\n              getContentAnchorEl: null,\r\n              anchorOrigin: {\r\n                vertical: \"bottom\",\r\n                horizontal: \"left\"\r\n              }\r\n            }\r\n          }}\r\n          helperText={`Faculty responsible for the ${FormData.Type}`}\r\n          variant=\"outlined\"\r\n          fullWidth={true}\r\n        >\r\n          {FacultyConfig.map(option => (\r\n            <MenuItem key={option.value} value={option.value} dense>\r\n              {option.label}\r\n            </MenuItem>\r\n          ))}\r\n        </TextField>\r\n        <TextField\r\n          select\r\n          onChange={HandleChange(\"RelatedFaculties\")}\r\n          SelectProps={{\r\n            renderValue: selected => (\r\n              <div className={classes.chips}>\r\n                {selected.map(value => (\r\n                  <Chip\r\n                    key={value}\r\n                    label={\r\n                      FacultyConfig.filter(item => item.value === value)[0]\r\n                        .label\r\n                    }\r\n                    className={classes.chip}\r\n                  />\r\n                ))}\r\n              </div>\r\n            ),\r\n            multiple: true,\r\n            MenuProps: {\r\n              getContentAnchorEl: null,\r\n              anchorOrigin: {\r\n                vertical: \"bottom\",\r\n                horizontal: \"left\"\r\n              }\r\n            }\r\n          }}\r\n          value={FormData.RelatedFaculties}\r\n          error={Errors.RelatedFaculties !== \"\"}\r\n          id=\"related-faculties\"\r\n          label=\"Collaborating Faculties\"\r\n          helperText=\"Other collaborating faculties\"\r\n          variant=\"outlined\"\r\n          fullWidth={true}\r\n        >\r\n          {FacultyConfig.map(option => (\r\n            <MenuItem key={option.value} value={option.value} dense>\r\n              {option.label}\r\n            </MenuItem>\r\n          ))}\r\n        </TextField>\r\n        <TextField\r\n          select\r\n          SelectProps={{\r\n            MenuProps: {\r\n              getContentAnchorEl: null,\r\n              anchorOrigin: {\r\n                vertical: \"bottom\",\r\n                horizontal: \"left\"\r\n              }\r\n            }\r\n          }}\r\n          onChange={HandleChange(\"Teaching\")}\r\n          error={Errors.Teaching !== \"\"}\r\n          name=\"teaching\"\r\n          id=\"teaching\"\r\n          value={FormData.Teaching}\r\n          label=\"Teaching (Primarily)\"\r\n          helperText={`Primary teaching type`}\r\n          variant=\"outlined\"\r\n          fullWidth={true}\r\n        >\r\n          {TeachingOption.map(option => (\r\n            <MenuItem key={option.value} value={option.value} dense>\r\n              {option.label}\r\n            </MenuItem>\r\n          ))}\r\n        </TextField>\r\n        <TextField\r\n          select\r\n          SelectProps={{\r\n            MenuProps: {\r\n              getContentAnchorEl: null,\r\n              anchorOrigin: {\r\n                vertical: \"bottom\",\r\n                horizontal: \"left\"\r\n              }\r\n            }\r\n          }}\r\n          onChange={HandleChange(\"SustainFocus\")}\r\n          error={Errors.SustainFocus !== \"\"}\r\n          name=\"sustain-focus\"\r\n          id=\"sustain-focus\"\r\n          value={FormData.SustainFocus}\r\n          label=\"Sustainability Focus (primarily)\"\r\n          helperText={`Primary sustainablity focus`}\r\n          variant=\"outlined\"\r\n          fullWidth={true}\r\n        >\r\n          {SustainFocusOption.map(option => (\r\n            <MenuItem key={option.value} value={option.value} dense>\r\n              {option.label}\r\n            </MenuItem>\r\n          ))}\r\n        </TextField>\r\n      </form>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default Personal;\r\n","import React, { Fragment, useState, useEffect } from \"react\";\r\nimport GoalList from \"../data/goals.json\";\r\nimport {\r\n  Box,\r\n  Grid,\r\n  GridList,\r\n  GridListTile,\r\n  Paper,\r\n  Typography\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableRow\r\n} from \"@material-ui/core\";\r\n\r\nconst numnum = num => (num <= 9 ? \"0\" + num : num);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  selected: {\r\n    marginTop: \"10px\"\r\n  },\r\n  selectedTiles: {\r\n    boxShadow: `0 0 8px 0px red`,\r\n    transform: \"scale(0.85)\",\r\n    borderColor: \"whitesmoke\",\r\n    borderWidth: \"2px\",\r\n    borderStyle: \"solid\",\r\n    borderRadius: \"3px\",\r\n    \"&:focus\": {\r\n      outline: \"none\"\r\n    },\r\n    filter: \"saturate(1.3)\"\r\n  },\r\n  regularTiles: {\r\n    \"&:focus\": {\r\n      outline: \"none\"\r\n    }\r\n  },\r\n  dimTiles: {\r\n    filter: \"saturate(0.3)\"\r\n  }\r\n}));\r\n\r\nGoalList.forEach(goal => {\r\n  goal.image_src = \"images/Goals/Goal-\" + numnum(goal.goal) + \".png\";\r\n  goal.isSelected = false;\r\n});\r\n\r\nconst Goal = props => {\r\n  const classes = useStyles();\r\n  const [AllGoals, setAllGoals] = useState(GoalList);\r\n  const { Goals } = props.CurrentRecord;\r\n  const { UpdateCurrentRecord } = props;\r\n\r\n  useEffect(() => {\r\n    if (props.CurrentRecord.Targets.length) {\r\n      props.UpdateCurrentRecord(\"Targets\", []);\r\n    }\r\n  });\r\n\r\n  GoalList.forEach(\r\n    goal => (goal.isSelected = props.CurrentRecord.Goals.includes(goal.goal))\r\n  );\r\n\r\n  const handleClick = event => {\r\n    const newGoals = AllGoals;\r\n    newGoals.forEach(goal => {\r\n      if (goal.goal === Number(event.target.name)) {\r\n        goal.isSelected = !goal.isSelected;\r\n      }\r\n    });\r\n    event.target.classList.toggle(\"selected\");\r\n    UpdateCurrentRecord(\r\n      \"Goals\",\r\n      newGoals.filter(goal => goal.isSelected).map(goal => goal.goal)\r\n    );\r\n    setAllGoals(newGoals);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Grid container direction=\"column\">\r\n        {/* <Typography variant=\"h4\" component=\"h2\">Select Goals</Typography> */}\r\n        <Box className={classes.root}>\r\n          <GridList cols={6} component=\"div\" cellHeight=\"auto\">\r\n            {AllGoals.map(goal => (\r\n              <GridListTile key={goal.goal} component=\"div\">\r\n                <ImageLink\r\n                  makeDim={AllGoals.filter(item => item.isSelected).length >= 2}\r\n                  goal={goal}\r\n                  handleClick={handleClick}\r\n                  key={goal.goal}\r\n                  disabled={(Goals.length >= 2) & !goal.isSelected}\r\n                />\r\n              </GridListTile>\r\n            ))}\r\n          </GridList>\r\n          {AllGoals.filter(goal => Goals.includes(goal.goal)).length ? (\r\n            <Typography variant=\"overline\">Selected Goals</Typography>\r\n          ) : (\r\n            <Fragment>\r\n              <Typography variant=\"overline\">No goals are selected</Typography>\r\n              <Typography variant=\"body2\">\r\n                Please select at least one goal.\r\n              </Typography>\r\n            </Fragment>\r\n          )}\r\n          <TableContainer component={Paper} className={classes.selected}>\r\n            <Table className={classes.table} size=\"small\">\r\n              <TableBody>\r\n                {AllGoals.filter(goal => Goals.includes(goal.goal)).map(\r\n                  (goal, idx) => (\r\n                    <Fragment key={idx}>\r\n                      <TableRow key={goal.goal}>\r\n                        <TableCell\r\n                          variant=\"head\"\r\n                          align=\"right\"\r\n                          style={{\r\n                            color: goal.colorInfo.hex,\r\n                            fontWeight: \"bolder\"\r\n                          }}\r\n                        >\r\n                          Goal {goal.goal}\r\n                        </TableCell>\r\n                        <TableCell align=\"left\">{goal.title}</TableCell>\r\n                      </TableRow>\r\n                    </Fragment>\r\n                  )\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </Box>\r\n      </Grid>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Goal;\r\n\r\nconst ImageLink = props => {\r\n  const classes = useStyles();\r\n  const { goal, handleClick, disabled } = props;\r\n  return (\r\n    <input\r\n      width=\"100%\"\r\n      id={\"Goal-\" + numnum(goal.goal)}\r\n      type=\"image\"\r\n      src={goal.image_src}\r\n      name={goal.goal}\r\n      alt={goal.short}\r\n      onClick={handleClick}\r\n      className={\r\n        goal.isSelected\r\n          ? classes.selectedTiles\r\n          : props.makeDim\r\n          ? classes.dimTiles\r\n          : classes.regularTiles\r\n      }\r\n      disabled={disabled}\r\n    />\r\n  );\r\n};\r\n","import React, { Fragment, useState, useEffect } from \"react\";\r\nimport className from \"classname\";\r\nimport TargetList from \"../data/targets.json\";\r\nimport GoalList from \"../data/goals.json\";\r\nimport { IconButton, Grid, Typography } from \"@material-ui/core\";\r\nimport { Button, Paper } from \"@material-ui/core\";\r\nimport {\r\n  TableContainer,\r\n  Table,\r\n  TableRow,\r\n  TableCell,\r\n  TableBody,\r\n  TableHead\r\n} from \"@material-ui/core\";\r\nimport { Box, TextField, MenuItem } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport DoubleArrowIcon from \"@material-ui/icons/DoubleArrow\";\r\n\r\nconst numnum = num => (num <= 9 ? \"0\" + num : num);\r\nconst useStyles = makeStyles(theme => ({\r\n  targetBtns: {\r\n    alignContent: \"flex-start\"\r\n  },\r\n  targetBtn: {\r\n    margin: \"4px 0px\",\r\n    textTransform: \"unset\",\r\n    textAlign: \"left\",\r\n    justifyContent: \"start\",\r\n    \"& p\": {\r\n      margin: 0,\r\n      \"& span\": {\r\n        fontWeight: \"bold\",\r\n        color: theme.palette.primary.main\r\n      }\r\n    },\r\n    \"&:hover\": {\r\n      color: theme.palette.primary.main,\r\n      \"& p\": {\r\n        \"& span\": {\r\n          backgroundColor: theme.palette.primary.main,\r\n          color: theme.palette.primary.contrastText,\r\n          display: \"inline-block\",\r\n          paddingRight: \"5px\",\r\n          paddingLeft: \"3px\",\r\n          borderRadius: \"5px\",\r\n          marginRight: \"5px\"\r\n        }\r\n      }\r\n    }\r\n  },\r\n  clickedTargetBtn: {\r\n    margin: \"4px 0px\",\r\n    textTransform: \"unset\",\r\n    textAlign: \"left\",\r\n    justifyContent: \"start\",\r\n    backgroundColor: theme.palette.background.light,\r\n    color: theme.palette.primary.main,\r\n    \"& p\": {\r\n      margin: 0,\r\n      \"& span\": {\r\n        backgroundColor: theme.palette.primary.main,\r\n        color: theme.palette.primary.contrastText,\r\n        display: \"inline-block\",\r\n        paddingRight: \"5px\",\r\n        paddingLeft: \"3px\",\r\n        borderRadius: \"5px\",\r\n        marginRight: \"5px\"\r\n      }\r\n    },\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.background.light\r\n    }\r\n  },\r\n  goalcover: {\r\n    width: \"100%\",\r\n    height: \"175px\",\r\n    flexShrink: 0,\r\n    backgroundPosition: \"top left\"\r\n  },\r\n  tableWrapper: {\r\n    width: \"100%\"\r\n  },\r\n  table: {\r\n    width: \"100%\",\r\n    maxHeight: \"150px\",\r\n    overflowY: \"scroll\",\r\n    marginBottom: \"15px\",\r\n    \"& tbody\": {\r\n      \"& *\": {\r\n        fontSize: \"inherit\",\r\n        padding: \"2px 5px\"\r\n      }\r\n    }\r\n  },\r\n  goalheader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    \"& p\": {\r\n      color: theme.palette.primary.contrastText,\r\n      fontSize: \"larger\"\r\n    },\r\n    \"& h3\": {\r\n      color: theme.palette.primary.contrastText,\r\n      paddingRight: \"10px\",\r\n      paddingLeft: \"5px\"\r\n    }\r\n  }\r\n}));\r\n\r\nexport const InteractionArrow = props => {\r\n  const { direction } = props;\r\n  if (direction === \"rtl\") {\r\n    return (\r\n      <DoubleArrowIcon\r\n        style={{ fontSize: \"inherit\", transform: \"rotate(180deg)\" }}\r\n      />\r\n    );\r\n  } else if (direction === \"ltr\") {\r\n    return <DoubleArrowIcon style={{ fontSize: \"inherit\" }} />;\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\nconst direction = [\r\n  { value: \"\", label: \"None\" },\r\n  { value: \"ltr\", label: <InteractionArrow direction=\"ltr\" /> },\r\n  { value: \"rtl\", label: <InteractionArrow direction=\"rtl\" /> }\r\n];\r\nconst interaction = [\r\n  { value: \"\", label: \"None\" },\r\n  { value: \"Positive\", label: \"Positive\" },\r\n  { value: \"Negative\", label: \"Negative\" }\r\n];\r\nconst type = [\r\n  { value: \"\", label: \"None\" },\r\n  { value: \"Direct\", label: \"Direct\" },\r\n  { value: \"Indirect\", label: \"Indirect\" }\r\n];\r\n\r\nconst SideTable = props => {\r\n  const classes = useStyles();\r\n  const { Records, removeCurrent, UpdateCurrent } = props;\r\n  return (\r\n    <TableContainer component={Paper} className={classes.table}>\r\n      <Table stickyHeader size=\"small\" aria-label=\"Selected Records Table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell></TableCell>\r\n            <TableCell>Target1</TableCell>\r\n            <TableCell>Direction</TableCell>\r\n            <TableCell>Target2</TableCell>\r\n            <TableCell>Interaction</TableCell>\r\n            <TableCell>Type</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {Records.map((row, key) => (\r\n            <TableRow key={key}>\r\n              <TableCell>\r\n                <IconButton\r\n                  aria-label=\"delete\"\r\n                  onClick={removeCurrent}\r\n                  name={String(key)}\r\n                  size=\"small\"\r\n                >\r\n                  <DeleteIcon fontSize=\"small\" />\r\n                </IconButton>\r\n              </TableCell>\r\n              <TableCell>\r\n                {row.Targets[0] ? row.Targets[0] : row.Goals[0]}\r\n              </TableCell>\r\n              <TableCell>\r\n                <TextField\r\n                  defaultValue=\"\"\r\n                  name={String(key)}\r\n                  id=\"select-interaction-direction\"\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  select\r\n                  fullWidth\r\n                  onChange={UpdateCurrent(\"direction\")}\r\n                  value={Records[key].Interaction.direction}\r\n                >\r\n                  {direction.map(option => (\r\n                    <MenuItem key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </MenuItem>\r\n                  ))}\r\n                </TextField>\r\n              </TableCell>\r\n              <TableCell>\r\n                {row.Targets[1] ? row.Targets[1] : row.Goals[1]}\r\n              </TableCell>\r\n              <TableCell>\r\n                <TextField\r\n                  name={String(key)}\r\n                  id=\"select-interaction\"\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  select\r\n                  fullWidth\r\n                  value={Records[key].Interaction.value}\r\n                  onChange={UpdateCurrent(\"value\")}\r\n                >\r\n                  {interaction.map(option => (\r\n                    <MenuItem key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </MenuItem>\r\n                  ))}\r\n                </TextField>\r\n              </TableCell>\r\n              <TableCell>\r\n                <TextField\r\n                  id=\"select-interaction-type\"\r\n                  variant=\"outlined\"\r\n                  size=\"small\"\r\n                  select\r\n                  fullWidth\r\n                  name={String(key)}\r\n                  onChange={UpdateCurrent(\"type\")}\r\n                  value={Records[key].Interaction.type}\r\n                >\r\n                  {type.map(option => (\r\n                    <MenuItem key={option.value} value={option.value}>\r\n                      {option.label}\r\n                    </MenuItem>\r\n                  ))}\r\n                </TextField>\r\n              </TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n};\r\nfunction Target(props) {\r\n  const classes = useStyles();\r\n  const { CurrentRecord, Records } = props;\r\n  const { UpdateCurrentRecord, RemoveCurrentRecord } = props;\r\n  const { UpdateCurrent } = props;\r\n\r\n  let newTargets = TargetList.filter(target =>\r\n    props.CurrentRecord.Goals.includes(target.goal)\r\n  ).filter(target => target.id.match(\"[0-9]$\"));\r\n  newTargets.forEach(target => {\r\n    target.goal_img = \"images/Goals/Goal-\" + numnum(target.goal) + \".png\";\r\n    target.isSelected = props.CurrentRecord.Targets.map(x =>\r\n      x.toString()\r\n    ).includes(target.id);\r\n  });\r\n\r\n  const [PossibleTargets, setPossibleTargets] = useState(newTargets);\r\n  const NestedTargets = [\r\n    ...new Set(PossibleTargets.map(target => target.goal))\r\n  ].reduce((acc, curr) => {\r\n    acc[curr] = PossibleTargets.filter(target => target.goal === curr);\r\n    return acc;\r\n  }, {});\r\n  var SelectedGoals = GoalList.filter(goal =>\r\n    Object.keys(NestedTargets).includes(goal.goal.toString())\r\n  );\r\n  SelectedGoals.forEach(goal => {\r\n    goal.targets = NestedTargets[goal.goal];\r\n    return goal;\r\n  });\r\n\r\n  useEffect(() => {\r\n    [...document.getElementsByClassName(\"clicked-target-btn\")].map(btn =>\r\n      btn.scrollIntoView()\r\n    );\r\n  });\r\n  const handleClick = event => {\r\n    event.preventDefault();\r\n    const newTargets = PossibleTargets;\r\n    newTargets.forEach(target => {\r\n      if (target.id === event.currentTarget.name) {\r\n        target.isSelected = !target.isSelected;\r\n        event.currentTarget.classList.toggle(classes.clickedTargetBtn);\r\n      }\r\n    });\r\n    UpdateCurrentRecord(\r\n      \"Targets\",\r\n      newTargets.filter(target => target.isSelected).map(target => target.id)\r\n    );\r\n    setPossibleTargets(newTargets);\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <Grid container direction=\"column\">\r\n        <Grid container>\r\n          <Grid item className={classes.tableWrapper}>\r\n            {Records.length > 0 && (\r\n              <React.Fragment>\r\n                <Typography m={0} variant=\"overline\">\r\n                  Selected Records\r\n                </Typography>\r\n                <SideTable\r\n                  Records={Records}\r\n                  removeCurrent={RemoveCurrentRecord}\r\n                  UpdateCurrent={UpdateCurrent}\r\n                />\r\n              </React.Fragment>\r\n            )}\r\n          </Grid>\r\n          <Grid item container spacing={1}>\r\n            {SelectedGoals.map((goal, idx) => (\r\n              <Grid item xs={6} key={goal.goal}>\r\n                <Box\r\n                  width=\"100%\"\r\n                  height=\"50px\"\r\n                  className={classes.goalheader}\r\n                  style={{ backgroundColor: goal.colorInfo.hex }}\r\n                >\r\n                  <Typography variant=\"h3\" component=\"h3\">\r\n                    {goal.goal}\r\n                  </Typography>\r\n                  <Typography variant=\"subtitle1\" component=\"p\">\r\n                    {goal.short}\r\n                  </Typography>\r\n                </Box>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n          <Grid item container spacing={1}>\r\n            {SelectedGoals.map((goal, idx) => (\r\n              <Grid\r\n                item\r\n                xs={6}\r\n                container\r\n                className={classes.targetBtns}\r\n                key={goal.goal}\r\n              >\r\n                {goal.targets.map((target, idx) => {\r\n                  return (\r\n                    <Button\r\n                      fullWidth={true}\r\n                      key={target.id}\r\n                      variant=\"outlined\"\r\n                      size=\"small\"\r\n                      color=\"secondary\"\r\n                      id={\"Target-\" + target.id}\r\n                      value={target.id}\r\n                      name={target.id}\r\n                      onClick={handleClick}\r\n                      disabled={\r\n                        CurrentRecord.Targets.length >= 2 &&\r\n                        !CurrentRecord.Targets.includes(String(target.id))\r\n                      }\r\n                      className={className(\r\n                        classes.targetBtn,\r\n                        CurrentRecord.Targets.includes(target.id)\r\n                          ? classes.clickedTargetBtn\r\n                          : null\r\n                      )}\r\n                    >\r\n                      <p className=\"target-text\">\r\n                        <span className=\"target-id\">{target.id} </span>\r\n                        {target.title}\r\n                      </p>\r\n                    </Button>\r\n                  );\r\n                })}\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Fragment>\r\n  );\r\n}\r\nexport default Target;\r\n","import React, { Fragment } from \"react\";\r\nimport Circos from \"react-circos\";\r\nimport { Paper, Box, Grid, Divider } from \"@material-ui/core\";\r\nimport {\r\n  TableContainer,\r\n  Table,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableBody\r\n} from \"@material-ui/core\";\r\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\r\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\r\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DoubleArrowIcon from \"@material-ui/icons/DoubleArrow\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\n\r\nimport TargetList from \"../data/targets.json\";\r\nimport GoalList from \"../data/goals.json\";\r\nimport { FacultyConfig } from \"../config/app-config.js\";\r\n\r\nimport _ from \"lodash\";\r\n\r\nconst targetFilter = target => target.id.match(\"[0-9]$\");\r\nconst NestedGoals = _.mergeWith(\r\n  _.flatMapDepth(_.groupBy(GoalList, \"goal\"), 0),\r\n  _.flatMapDepth(\r\n    _.groupBy(TargetList.filter(targetFilter), \"goal\"),\r\n    x => ({ targets: x }),\r\n    0\r\n  )\r\n);\r\nconst Targets = _.flatMap(NestedGoals, x =>\r\n  _.flatMap(x.targets, y => ({ ...y, color: x.colorInfo.hex }))\r\n);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  recordsDetails: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\"\r\n  },\r\n  expansionTitle: {\r\n    \"& > div\": {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      justifyContent: \"space-between\",\r\n      \"& > div:first-child\": {\r\n        \"& p\": {\r\n          fontWeight: 800\r\n        }\r\n      }\r\n    }\r\n  },\r\n  expansionDetail: {\r\n    flexDirection: \"column\"\r\n  },\r\n  gridRow: {\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\"\r\n  },\r\n  table: {\r\n    maxWidth: \"100%\"\r\n  },\r\n  rtlIcon: {\r\n    transform: \"rotate(180deg)\"\r\n  },\r\n  ltrIcon: {},\r\n  link: {\r\n    textTransform: \"uppercase\",\r\n    fontSize: \"small\"\r\n  }\r\n}));\r\n\r\nexport const RecordSummary = props => {\r\n  const classes = useStyles();\r\n  const { Record, expanded } = props;\r\n  return (\r\n    <Fragment>\r\n      <Box width=\"100%\">\r\n        {Record ? (\r\n          <React.Fragment>\r\n            <ExpansionPanel defaultExpanded={expanded ? true : false}>\r\n              <ExpansionPanelSummary className={classes.expansionTitle}>\r\n                {Record.CourseName ? (\r\n                  <Typography style={{ fontWeight: 800 }}>\r\n                    {Record.CourseName}\r\n                  </Typography>\r\n                ) : (\r\n                  <Typography style={{ fontWeight: 800 }}>Detail</Typography>\r\n                )}\r\n                {Record.CourseCode ? Record.CourseCode : null}\r\n              </ExpansionPanelSummary>\r\n              <ExpansionPanelDetails className={classes.expansionDetail}>\r\n                <ResearchDetails Record={Record} />\r\n                {Record.SDGRecords.length > 0 ? (\r\n                  <SDGTable Record={Record} />\r\n                ) : null}\r\n              </ExpansionPanelDetails>\r\n            </ExpansionPanel>\r\n          </React.Fragment>\r\n        ) : null}\r\n      </Box>\r\n    </Fragment>\r\n  );\r\n};\r\nconst ResearchDetails = props => {\r\n  const classes = useStyles();\r\n  const { Record } = props;\r\n  return (\r\n    <Box width=\"100%\" className={classes.recordsDetails}>\r\n      <Typography variant=\"overline\">\r\n        {Record.Type === \"course\" ? \"Course Responsible\" : \"Main Supervisor\"}:\r\n        {Record.CourseResponsible}\r\n      </Typography>\r\n      <Box>\r\n        <Typography variant=\"subtitle2\">\r\n          {FacultyConfig.filter(\r\n            fclty => fclty.value === Record.Faculty\r\n          ).flatMap(fclty => fclty.label)}\r\n        </Typography>\r\n      </Box>\r\n      <Divider />\r\n      <Box>\r\n        <Typography variant=\"overline\">Collaborating Faculties:</Typography>\r\n        <Typography variant=\"subtitle2\">\r\n          {FacultyConfig.filter(fclty =>\r\n            Record.RelatedFaculties.includes(fclty.value)\r\n          )\r\n            .flatMap(fclty => fclty.label)\r\n            .join(\"; \")}\r\n        </Typography>\r\n      </Box>\r\n      <Divider />\r\n      <Typography variant=\"overline\">\r\n        Primary Teaching: {Record.Teaching}\r\n      </Typography>\r\n      <Divider />\r\n      <Typography variant=\"overline\">\r\n        Primary Sustanability Focus: {Record.SustainFocus}\r\n      </Typography>\r\n    </Box>\r\n  );\r\n};\r\nexport const SDGTable = props => {\r\n  const { Record } = props;\r\n  const classes = useStyles();\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"records table\" size=\"small\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Target1</TableCell>\r\n            <TableCell>Direction</TableCell>\r\n            <TableCell>Target2</TableCell>\r\n            <TableCell>Type</TableCell>\r\n            <TableCell>Interaction</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {Record.SDGRecords.length > 0\r\n            ? Record.SDGRecords.map((sdg, key) => (\r\n                <TableRow key={key}>\r\n                  <TableCell>\r\n                    {\" \"}\r\n                    {sdg.Targets[0] ? sdg.Targets[0] : sdg.Goals[0]}{\" \"}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {sdg.Interaction.direction === \"ltr\" ? (\r\n                      <DoubleArrowIcon className={classes.ltrIcon} />\r\n                    ) : sdg.Interaction.direction === \"rtl\" ? (\r\n                      <DoubleArrowIcon className={classes.rtlIcon} />\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {sdg.Targets[1] ? sdg.Targets[1] : sdg.Goals[1]}\r\n                  </TableCell>\r\n                  <TableCell>{sdg.Interaction.type}</TableCell>\r\n                  <TableCell>{sdg.Interaction.value}</TableCell>\r\n                </TableRow>\r\n              ))\r\n            : null}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n};\r\nexport const RecordPlotPanel = ({ Records }) => {\r\n  const size = 450;\r\n  const layout = NestedGoals.map(goal => ({\r\n    id: String(goal.goal),\r\n    len: goal.targets.length,\r\n    label: String(goal.goal),\r\n    block_id: goal.goal,\r\n    value: goal.goal,\r\n    start: goal.goal - 1,\r\n    end: goal.goal,\r\n    color: goal.colorInfo.hex\r\n  }));\r\n\r\n  const highlight = Targets.map(target => ({\r\n    id: target.id,\r\n    block_id: String(target.goal),\r\n    start: parseInt(target.id.split(\".\")[1] - 1),\r\n    end: parseInt(target.id.split(\".\")[1]),\r\n    value: parseInt(target.id.split(\".\")[1]),\r\n    color: target.color\r\n  }));\r\n  const chords = Records.filter(item => item.Targets.length > 0).map(item => {\r\n    return {\r\n      source: {\r\n        id: String(item.Goals[0]),\r\n        start: parseInt(item.Targets[0].split(\".\")[1]) - 1,\r\n        end: parseInt(item.Targets[0].split(\".\")[1])\r\n      },\r\n      target: {\r\n        id: String(item.Goals[1]),\r\n        start: parseInt(item.Targets[1].split(\".\")[1]) - 1,\r\n        end: parseInt(item.Targets[1].split(\".\")[1])\r\n      },\r\n      opacity:\r\n        item.Interaction.type === \"Direct\"\r\n          ? 1\r\n          : item.Interaction.type === \"Indirect\"\r\n          ? 0.5\r\n          : 0.2,\r\n      value:\r\n        item.Interaction.value === \"Positive\"\r\n          ? 1\r\n          : item.Interaction.value === \"Negative\"\r\n          ? -1\r\n          : 0,\r\n      label: `Target: ${item.Targets[0]} ↣ Target: ${item.Targets[1]}`\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div className=\"sdg-data-panel\">\r\n      <Circos\r\n        size={size}\r\n        layout={layout}\r\n        config={{\r\n          innerRadius: size / 2 - 115,\r\n          outerRadius: size / 2 - 85,\r\n          gap: 0.01,\r\n          ticks: {\r\n            display: false\r\n          },\r\n          labels: {\r\n            position: \"center\",\r\n            display: true,\r\n            size: 12,\r\n            color: \"white\",\r\n            radialOffset: 10\r\n          }\r\n        }}\r\n        tracks={[\r\n          {\r\n            type: \"HIGHLIGHT\",\r\n            data: highlight,\r\n            config: {\r\n              innerRadius: size / 2 - 85,\r\n              outerRadius: size / 2 - 50,\r\n              opacity: 0.75,\r\n              strokeColor: \"white\",\r\n              strokeWidth: 0.5,\r\n              color: d => d.color\r\n            }\r\n          },\r\n          {\r\n            type: \"TEXT\",\r\n            data: highlight.map(d => {\r\n              d.position = (d.start + d.end) / 2 + 0.25;\r\n              d.value = d.id.split(\".\")[1];\r\n              return d;\r\n            }),\r\n            config: {\r\n              innerRadius: size / 2 - 45,\r\n              outerRadius: size / 2 - 30,\r\n              style: {\r\n                \"font-size\": 9,\r\n                \"font-weight\": 600,\r\n                fill: d =>\r\n                  _.flatMap(NestedGoals, x => x.colorInfo.hex)[d.block_id - 1]\r\n              }\r\n            }\r\n          },\r\n          {\r\n            type: \"CHORDS\",\r\n            data: chords,\r\n            config: {\r\n              opacity: d => d.opacity,\r\n              color: d =>\r\n                d.value > 0\r\n                  ? \"forestgreen\"\r\n                  : d.value < 0\r\n                  ? \"firebrick\"\r\n                  : \"grey\",\r\n              tooltipContent: function(d) {\r\n                const interaction =\r\n                  d.value > 0\r\n                    ? \"Interaction: Positive\"\r\n                    : d.value < 0\r\n                    ? \"Interaction: Negative\"\r\n                    : \"\";\r\n                return `<h3>${d.label}<br/>${interaction}</h3>`;\r\n              }\r\n            }\r\n          }\r\n        ]}\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default function Summary(props) {\r\n  const { FormData, Records } = props;\r\n  return (\r\n    <React.Fragment>\r\n      <Grid container>\r\n        <Grid item xs={12}>\r\n          <RecordSummary\r\n            Record={{ ...FormData, SDGRecords: Records }}\r\n            expanded\r\n          />\r\n        </Grid>\r\n        {/* <Grid item xs={6}>\r\n          <RecordPlotPanel Records={Records} />\r\n        </Grid> */}\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Summary from './Summary.js';\r\n\r\nimport { Typography, Box } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(themes => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-around',\r\n  },\r\n}))\r\n\r\nfunction Confirmation(props) {\r\n  const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n      <Box height=\"100%\" className={classes.container}>\r\n        <Typography variant=\"h2\" align=\"center\">Your Records have been saved.</Typography>\r\n        <Summary\r\n          FormData = {props.FormData}\r\n          Records = {props.Records}\r\n        />\r\n      </Box>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default Confirmation;\r\n\r\n","import React from 'react';\r\nimport Personal from './Personal';\r\nimport Goal from './Goal';\r\nimport Target from './Target';\r\nimport Summary from './Summary';\r\nimport Confirmation from './Confirmation';\r\n\r\nfunction MainForm(props) {\r\n  const {Step, FormData, CurrentRecord, Records} = props;\r\n  const {UpdateFormData, UpdateCurrentRecord, UpdateRecords } = props;\r\n  const {RemoveCurrentRecord, UpdateCurrent} = props;\r\n  const {NextStep, PrevStep, GoHome, Submit} = props;\r\n  const {Errors, setErrors, NoError, setNoError} = props;\r\n  const {checkValidFields, HandleChange, CheckAndProceed} = props;\r\n\r\n  switch(Step) {\r\n    case 1:\r\n      return(\r\n        <Personal\r\n          FormData={FormData}\r\n          UpdateFormData={UpdateFormData}\r\n          NextStep={NextStep}\r\n          Errors={Errors}\r\n          setErrors={setErrors}\r\n          NoError={NoError}\r\n          setNoError={setNoError}\r\n          checkValidFields={checkValidFields}\r\n          HandleChange={HandleChange}\r\n          CheckAndProceed={CheckAndProceed}\r\n        />\r\n      );\r\n    case 2:\r\n      return(\r\n        <Goal\r\n          CurrentRecord={CurrentRecord}\r\n          UpdateCurrentRecord={UpdateCurrentRecord}\r\n          NextStep={NextStep}\r\n          PrevStep={PrevStep}/>\r\n      );\r\n    case 3:\r\n      return(\r\n        <Target\r\n          CurrentRecord={CurrentRecord}\r\n          UpdateCurrentRecord={UpdateCurrentRecord}\r\n          UpdateFormData={UpdateFormData}\r\n          UpdateRecords={UpdateRecords}\r\n          Records={Records}\r\n          RemoveCurrentRecord={RemoveCurrentRecord}\r\n          UpdateCurrent={UpdateCurrent}\r\n          NextStep={NextStep}\r\n          PrevStep={PrevStep} />\r\n      );\r\n    case 4:\r\n      return(\r\n        <React.Fragment>\r\n          <Summary\r\n            FormData={FormData}\r\n            Records={Records}\r\n            Submit={Submit}\r\n            PrevStep={PrevStep} />\r\n        </React.Fragment>\r\n      );\r\n    case 5:\r\n      return(\r\n        <React.Fragment>\r\n          <Confirmation \r\n            Records={Records}\r\n            FormData={FormData}\r\n            GoHome={GoHome}/>\r\n        </React.Fragment>\r\n      );\r\n    default:\r\n      throw new Error('Opss!');\r\n  }\r\n}\r\n\r\nexport default MainForm;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Typography, Box, Paper } from \"@material-ui/core\";\r\nimport {\r\n  TableContainer,\r\n  Table,\r\n  TableRow,\r\n  TableCell,\r\n  TableBody\r\n} from \"@material-ui/core\";\r\nimport { InteractionArrow } from \"./Target.js\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  table: {\r\n    width: \"100%\",\r\n    maxHeight: \"150px\",\r\n    overflowY: \"auto\",\r\n    marginBottom: \"15px\",\r\n    \"& tbody\": {\r\n      \"& *\": {\r\n        fontFamily: \"monospace\",\r\n        padding: \"2px 5px\"\r\n      }\r\n    }\r\n  },\r\n  sideinfoHeader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    paddingBottom: \"10px\",\r\n    \"& > span:first-child\": {\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: theme.palette.primary.contrastText,\r\n      paddingRight: \"10px\",\r\n      paddingLeft: \"4px\",\r\n      marginRight: \"4px\"\r\n    },\r\n    \"& > span:nth-child(2)\": {\r\n      fontSize: \"1.2em\"\r\n    }\r\n  }\r\n}));\r\nexport const SideTable = props => {\r\n  const classes = useStyles();\r\n  const { Records } = props;\r\n  return (\r\n    <TableContainer component={Paper} className={classes.table}>\r\n      <Table size=\"small\" aria-label=\"Selected Records Table\">\r\n        <TableBody>\r\n          {Records.map((row, key) => (\r\n            <TableRow key={key}>\r\n              <TableCell>\r\n                {row.Targets[0] ? row.Targets[0] : row.Goals[0]}\r\n              </TableCell>\r\n              <TableCell>\r\n                <InteractionArrow direction={row.Interaction.direction} />\r\n              </TableCell>\r\n              <TableCell>\r\n                {row.Targets[1] ? row.Targets[1] : row.Goals[1]}\r\n              </TableCell>\r\n              <TableCell>{row.Interaction.value}</TableCell>\r\n              <TableCell>{row.Interaction.type}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n};\r\nfunction SideInfo(props) {\r\n  const classes = useStyles();\r\n  const { Step, StepConfig, Records } = props;\r\n  const Label = StepConfig.filter(x => x.key === Step)[0].label;\r\n  switch (Step) {\r\n    case 0:\r\n      return (\r\n        <React.Fragment>\r\n          <Typography variant=\"subtitle2\">{Label}</Typography>\r\n        </React.Fragment>\r\n      );\r\n    case 1:\r\n      return (\r\n        <React.Fragment>\r\n          <Box className={classes.sideinfoHeader}>\r\n            <Typography component=\"span\" variant=\"subtitle1\" color=\"primary\">\r\n              Step {props.Step}\r\n            </Typography>\r\n            <Typography component=\"span\" variant=\"subtitle1\" color=\"primary\">\r\n              {Label}\r\n            </Typography>\r\n          </Box>\r\n          <Box>\r\n            <Typography>\r\n              Here you, as course responsible, can provide course information\r\n              and details about faculty ownership and faculty collaboration. In\r\n              case of master thesis, select “Thesis” as course type. Optionally\r\n              you may also classify the course type (teaching) and regarding\r\n              sustainability focus.\r\n            </Typography>\r\n          </Box>\r\n        </React.Fragment>\r\n      );\r\n    case 2:\r\n      return (\r\n        <React.Fragment>\r\n          <Box className={classes.sideinfoHeader}>\r\n            <Typography component=\"span\" variant=\"subtitle1\" color=\"primary\">\r\n              {\" \"}\r\n              Step {props.Step}\r\n            </Typography>\r\n            <Typography component=\"span\" variant=\"subtitle1\" color=\"primary\">\r\n              {\" \"}\r\n              {Label}\r\n            </Typography>\r\n          </Box>\r\n          <Box>\r\n            <Typography paragraph={true} variant=\"body2\">\r\n              The portal focuses on mapping pairwise interactions. Select one or\r\n              two main SDG goals addressed (directly or indirectly) in the\r\n              course, either in content, examples or in other ways. At most two\r\n              goals can be selected simultaneously. You may return to this page\r\n              later to register other goals for the same course.\r\n            </Typography>\r\n\r\n            <Typography paragraph={true} variant=\"body2\">\r\n              (You must deselect selected goals in order to choose new ones.)\r\n            </Typography>\r\n\r\n            <Typography paragraph={true} variant=\"body2\">\r\n              On the next page you will (optionally) have the opportunity to\r\n              specify any pair-wise sub-goal interactions addressed in the\r\n              course, either between sub-goals within a main goal, or between\r\n              sub-goals of two main goals.\r\n            </Typography>\r\n          </Box>\r\n        </React.Fragment>\r\n      );\r\n    case 3:\r\n      return (\r\n        <React.Fragment>\r\n          <Box className={classes.sideinfoHeader}>\r\n            <Typography variant=\"subtitle1\" component=\"span\" color=\"primary\">\r\n              Step {props.Step}\r\n            </Typography>\r\n            <Typography variant=\"subtitle2\" component=\"span\" color=\"primary\">\r\n              {Label}\r\n            </Typography>\r\n          </Box>\r\n          <Box>\r\n            <Typography variant=\"body2\">\r\n              (Optionally) select one sub-goal (if one main goal is selected) or\r\n              two sub-goals (interaction) which is/are addressed. After adding a\r\n              record you may also indicate whether:\r\n            </Typography>\r\n\r\n            <ul>\r\n              <li>\r\n                <Typography variant=\"body2\">\r\n                  interaction is positive (synergetic) or negative (trade-off)\r\n                </Typography>\r\n              </li>\r\n              <li>\r\n                <Typography variant=\"body2\">\r\n                  addressed interaction is a direct cause-effect interaction or\r\n                  a mere correlated effect (non-causal)\r\n                </Typography>\r\n              </li>\r\n              <li>\r\n                <Typography variant=\"body2\">\r\n                  the direction of a potential direct causal effect\r\n                </Typography>\r\n              </li>\r\n            </ul>\r\n\r\n            <Typography variant=\"body2\">\r\n              You may add multiple records. Selected records are listed here\r\n              continuously and may be edited (and deleted).\r\n            </Typography>\r\n\r\n            <Typography variant=\"body2\">\r\n              When you are done, you may also return to the previous page to\r\n              select additional main goal(s).\r\n            </Typography>\r\n\r\n            {Records.length > 0 && (\r\n              <React.Fragment>\r\n                <h4 className=\"sidebar-info-h4\">Selected Records</h4>\r\n                <SideTable Records={Records} />\r\n              </React.Fragment>\r\n            )}\r\n          </Box>\r\n        </React.Fragment>\r\n      );\r\n    case 4:\r\n      return (\r\n        <React.Fragment>\r\n          <Box className={classes.sideinfoHeader}>\r\n            <Typography variant=\"subtitle1\" component=\"span\" color=\"primary\">\r\n              Step {props.Step}\r\n            </Typography>\r\n            <Typography variant=\"subtitle2\" component=\"span\" color=\"primary\">\r\n              {Label}\r\n            </Typography>\r\n          </Box>\r\n          <Box>\r\n            <Typography variant=\"body2\">\r\n              Review the summary of you added interactions. A simple graphical\r\n              representation is given in addition to a full list of provided\r\n              information on each record.\r\n            </Typography>\r\n\r\n            <Typography variant=\"body2\">\r\n              To delete or add new, please return to the previous page. When the\r\n              information is completed, press “SUBMIT”\r\n            </Typography>\r\n          </Box>\r\n        </React.Fragment>\r\n      );\r\n    case 5:\r\n      return (\r\n        <React.Fragment>\r\n          <Box className={classes.sideinfoHeader}>\r\n            <Typography variant=\"body2\" component=\"span\" color=\"primary\">\r\n              Step {props.Step}\r\n            </Typography>\r\n            <Typography variant=\"body2\" component=\"span\" color=\"primary\">\r\n              {Label}\r\n            </Typography>\r\n          </Box>\r\n          <Box>\r\n            <Typography variant=\"body2\">\r\n              Thank you for your contribution!\r\n            </Typography>\r\n            <Typography variant=\"body2\">\r\n              To add more publications, simply press the START button.\r\n            </Typography>\r\n          </Box>\r\n        </React.Fragment>\r\n      );\r\n    default:\r\n      throw new Error(\"Opss!\");\r\n  }\r\n}\r\nexport default SideInfo;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { firestore } from \"firebase\";\r\nimport { RecordSummary, RecordPlotPanel } from \"./Summary\";\r\nimport { flatMap } from \"lodash\";\r\nimport { Grid, Box, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nvar unsubscribe;\r\n\r\nconst useStyle = makeStyles(theme => ({\r\n  wrapper: {\r\n    overflowY: \"auto\"\r\n  },\r\n  recordsWrapper: {\r\n    width: \"100%\"\r\n  }\r\n}));\r\n\r\nconst AllRecords = props => {\r\n  const classes = useStyle();\r\n  const [records, setRecords] = useState({});\r\n  useEffect(() => {\r\n    const db = firestore();\r\n\r\n    unsubscribe = db\r\n      .collection(\"education\")\r\n      .orderBy(\"created\", \"desc\")\r\n      .limit(8)\r\n      .onSnapshot(snapshot => {\r\n        let records = [];\r\n        snapshot.forEach(doc => records.push({ ...doc.data() }));\r\n        setRecords(records);\r\n        /* console.log(records) */\r\n      });\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  return (\r\n    <Box height=\"100%\" width=\"100%\" className={classes.wrapper}>\r\n      <Typography variant=\"h2\">Recent Records</Typography>\r\n      <Grid container>\r\n        <Grid item container md={6} className={classes.recordsWrapper}>\r\n          {records.length\r\n            ? records.map((record, idx) => {\r\n                return (\r\n                  <Box py={1} width=\"100%\" key={idx}>\r\n                    <RecordSummary Record={record} expanded={false} />\r\n                  </Box>\r\n                );\r\n              })\r\n            : null}\r\n        </Grid>\r\n        <Grid item md={6}>\r\n          {records.length ? (\r\n            <RecordPlotPanel Records={flatMap(records, \"SDGRecords\")} />\r\n          ) : null}\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\nexport default AllRecords;\r\n","import React, { Fragment, useEffect, useState } from \"react\";\r\n\r\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { firestore, apps, initializeApp } from \"firebase\";\r\n\r\nimport { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { ThemeProvider, makeStyles } from \"@material-ui/core/styles\";\r\nimport { Grid, Box, Button, ButtonGroup } from \"@material-ui/core\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\n\r\nimport FrontCover from \"./components/FrontCover\";\r\nimport MainForm from \"./components/MainForm\";\r\nimport SideInfo from \"./components/SideInfo\";\r\nimport AllRecords from \"./components/Records\";\r\n// import NetworkSDG from \"./components/Network\";\r\nimport Heatmap from \"./components/Heatmap\";\r\n\r\nimport { StepConfig } from \"./config/app-config\";\r\nimport { FirebaseConfig } from \"./config/firebase-config.js\";\r\n\r\nimport { CSVLink } from \"react-csv\";\r\n\r\n// Define variable;\r\nvar unsubscribe;\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      light: \"#33ae99\",\r\n      dark: \"#009a80\",\r\n      main: \"#006b59\",\r\n      contrastText: \"#fff\"\r\n    },\r\n    secondary: {\r\n      main: \"#556680\",\r\n      contrastText: \"#fff\"\r\n    },\r\n    background: {\r\n      paper: \"#fff\",\r\n      default: \"#fafafa\",\r\n      light: \"#F0F8FF\"\r\n    }\r\n  }\r\n});\r\n// May be create responseive font sizes\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    height: \"100vh\",\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    flexWrap: \"nowrap\",\r\n    overflow: \"hidden\",\r\n    margin: \"0px\",\r\n    boxSizing: \"border-box\"\r\n  },\r\n  sidebar: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"100%\",\r\n    flexShrink: 0\r\n  },\r\n  header: {\r\n    background: 'url(\"./images/header.jpg\")',\r\n    backgroundPosition: \"center\",\r\n    backgroundSize: \"cover\",\r\n    minHeight: \"150px\",\r\n    borderBottom: `5px solid ${theme.palette.primary.main}`\r\n  },\r\n  sideinfo: {\r\n    backgroundColor: \"#efefef\",\r\n    padding: \"1rem\",\r\n    overflowY: \"auto\"\r\n  },\r\n  sidefooter: {\r\n    backgroundColor: theme.palette.primary.main,\r\n    backgroundImage: `url(./images/NMBUwhite.svg)`,\r\n    backgroundPosition: \"center\",\r\n    backgroundSize: \"cover\",\r\n    height: \"50px\"\r\n  },\r\n  sidefooterRecords: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n    padding: 10,\r\n    backgroundColor: theme.palette.background.default,\r\n    borderTopWidth: \"5px\",\r\n    borderTopStyle: \"solid\",\r\n    borderTopColor: theme.palette.primary.main\r\n  },\r\n  mainpanel: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    justifyContent: \"center\",\r\n    alignContent: \"flex-start\",\r\n    padding: \"20px\",\r\n    paddingBottom: 0\r\n  },\r\n  mainpanelBox: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: \"100%\",\r\n    width: \"100%\"\r\n  },\r\n  mainContent: {\r\n    padding: \"12px\",\r\n    flexGrow: 1,\r\n    overflowY: \"auto\"\r\n  },\r\n  csvDownload: {\r\n    textDecoration: \"none\",\r\n    color: theme.palette.primary.contrastText\r\n  }\r\n}));\r\n\r\nconst DownloadCSV = props => {\r\n  const [records, setRecords] = useState([]);\r\n  const classes = useStyles();\r\n  useEffect(() => {\r\n    const db = firestore();\r\n    unsubscribe = db\r\n      .collection(\"education\")\r\n      .orderBy(\"created\", \"desc\")\r\n      .onSnapshot(snapshot => {\r\n        let records = [];\r\n        snapshot.forEach(doc => {\r\n          let data = doc.data();\r\n          return records.push(\r\n            data.SDGRecords.flatMap(item => ({\r\n              id: item.Targets.join(\"-\"),\r\n              CourseName: data.CourseName,\r\n              CourseCode: data.CourseCode,\r\n              Goal1: item.Goals[0],\r\n              Goal2: item.Goals[1],\r\n              Target1: item.Targets[0],\r\n              Target2: item.Targets[1],\r\n              Interaction: item.Interaction.value,\r\n              Direction: item.Interaction.direction,\r\n              Type: item.Interaction.type\r\n            }))\r\n          );\r\n        });\r\n        setRecords(records.flatMap(x => x));\r\n      });\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  return (\r\n    <Fragment>\r\n      {records.length > 0 ? (\r\n        <CSVLink\r\n          data={records}\r\n          filename={\"SDG-Records.csv\"}\r\n          target=\"_blank\"\r\n          className={classes.csvDownload}\r\n          onClick={event => {\r\n            console.log(records);\r\n          }}\r\n        >\r\n          Download CSV\r\n        </CSVLink>\r\n      ) : null}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nfunction InnerApp(props) {\r\n  const classes = useStyles();\r\n  const { Step, NextStep, PrevStep, Submit, GoHome } = props;\r\n  const { Records, CurrentRecord, FormData } = props;\r\n  const { UpdateCurrent, RemoveCurrentRecord, UpdateCurrentRecord } = props;\r\n  const { UpdateFormData, UpdateRecords } = props;\r\n  const { Errors, setErrors, NoError, setNoError } = props;\r\n  const { checkValidFields, HandleChange, CheckAndProceed } = props;\r\n  const { StepConfig } = props;\r\n\r\n  return (\r\n    <Grid container className={classes.root}>\r\n      <Router basename=\"/\">\r\n        <Switch>\r\n          <Route path=\"/records\">\r\n            <Grid item className={classes.sidebar} xs={3}>\r\n              <Box className={classes.header}></Box>\r\n              <Box className={classes.sideinfo} flexGrow={1}>\r\n                <Box height=\"100%\"></Box>\r\n              </Box>\r\n              <Box className={classes.sidefooterRecords}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  size=\"large\"\r\n                  className={classes.button}\r\n                  startIcon={<SaveIcon />}\r\n                >\r\n                  <DownloadCSV />\r\n                </Button>\r\n              </Box>\r\n            </Grid>\r\n            <Grid item container className={classes.mainpanel} xs={9}>\r\n              <Box className={classes.mainpanelBox}>\r\n                <AllRecords />\r\n              </Box>\r\n            </Grid>\r\n          </Route>\r\n          <Route path=\"/network\">\r\n            <Grid item className={classes.sidebar} xs={3}>\r\n              <Box className={classes.header}></Box>\r\n              <Box className={classes.sideinfo} flexGrow={1}></Box>\r\n              <Box className={classes.sidefooter}></Box>\r\n            </Grid>\r\n            <Grid item container className={classes.mainpanel} xs={9}>\r\n              <Box className={classes.mainpanelBox}>\r\n                <h1>We will come back soon!</h1>\r\n                {/* <NetworkSDG /> */}\r\n              </Box>\r\n            </Grid>\r\n          </Route>\r\n          <Route path=\"/heatmap\">\r\n            <Grid item className={classes.sidebar} xs={3}>\r\n              <Box className={classes.header}></Box>\r\n              <Box className={classes.sideinfo} flexGrow={1}></Box>\r\n              <Box className={classes.sidefooter}></Box>\r\n            </Grid>\r\n            <Grid item container className={classes.mainpanel} xs={9}>\r\n              <Box className={classes.mainpanelBox}>\r\n                <Heatmap />\r\n              </Box>\r\n            </Grid>\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <Grid item className={classes.sidebar} xs={3}>\r\n              <Box className={classes.header}></Box>\r\n              <Box className={classes.sideinfo} flexGrow={1}>\r\n                <SideInfo\r\n                  Records={Records}\r\n                  RemoveCurrentRecord={RemoveCurrentRecord}\r\n                  Step={Step}\r\n                  StepConfig={StepConfig}\r\n                />\r\n              </Box>\r\n              <Box className={classes.sidefooter}></Box>\r\n            </Grid>\r\n            <Grid item container className={classes.mainpanel} xs={9}>\r\n              <Box className={classes.mainpanelBox}>\r\n                {Step === 0 ? (\r\n                  <Fragment>\r\n                    <Box className={classes.mainContent}>\r\n                      <FrontCover NextStep={NextStep} />\r\n                    </Box>\r\n                    <Box py=\"15px\">\r\n                      <ButtonGroup variant=\"contained\" color=\"primary\">\r\n                        <Button onClick={NextStep}>Get Started</Button>\r\n                      </ButtonGroup>\r\n                    </Box>\r\n                  </Fragment>\r\n                ) : (\r\n                  <Fragment>\r\n                    <Box className={classes.mainContent}>\r\n                      <MainForm\r\n                        Step={Step}\r\n                        FormData={FormData}\r\n                        CurrentRecord={CurrentRecord}\r\n                        Records={Records}\r\n                        UpdateFormData={UpdateFormData}\r\n                        UpdateCurrentRecord={UpdateCurrentRecord}\r\n                        UpdateRecords={UpdateRecords}\r\n                        UpdateCurrent={UpdateCurrent}\r\n                        RemoveCurrentRecord={RemoveCurrentRecord}\r\n                        NextStep={NextStep}\r\n                        PrevStep={PrevStep}\r\n                        GoHome={GoHome}\r\n                        Submit={Submit}\r\n                        Errors={Errors}\r\n                        setErrors={setErrors}\r\n                        NoError={NoError}\r\n                        setNoError={setNoError}\r\n                        checkValidFields={checkValidFields}\r\n                        HandleChange={HandleChange}\r\n                        CheckAndProceed={CheckAndProceed}\r\n                      />\r\n                    </Box>\r\n                    <Box py=\"15px\">\r\n                      <ButtonGroup variant=\"contained\" color=\"primary\">\r\n                        {[2, 3, 4].includes(Step) ? (\r\n                          <Button onClick={PrevStep}>Previous</Button>\r\n                        ) : null}\r\n                        {Step === 4 ? (\r\n                          <Button onClick={Submit}>Submit</Button>\r\n                        ) : null}\r\n                        {Step === 3 ? (\r\n                          <Button onClick={NextStep}>Next</Button>\r\n                        ) : null}\r\n                        {Step === 2 ? (\r\n                          <Button\r\n                            onClick={NextStep}\r\n                            disabled={!CurrentRecord.Goals.length}\r\n                          >\r\n                            Next\r\n                          </Button>\r\n                        ) : null}\r\n                        {Step === 1 ? (\r\n                          <Button onClick={CheckAndProceed}>Next</Button>\r\n                        ) : null}\r\n                        {Step === 5 ? (\r\n                          <Button onClick={GoHome}>Start</Button>\r\n                        ) : null}\r\n                        {Step === 3 ? (\r\n                          <Button onClick={UpdateRecords}>\r\n                            Add Selected Record\r\n                          </Button>\r\n                        ) : null}\r\n                      </ButtonGroup>\r\n                    </Box>\r\n                  </Fragment>\r\n                )}\r\n              </Box>\r\n            </Grid>\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default function App() {\r\n  if (!apps.length) {\r\n    initializeApp(FirebaseConfig);\r\n  }\r\n\r\n  // STATES\r\n  const [Step, setStep] = useState(1);\r\n  const [FormData, setFormData] = useState({\r\n    Type: \"course\",\r\n    CourseCode: \"\",\r\n    Year: new Date().getFullYear(),\r\n    CourseName: \"\",\r\n    CourseResponsible: \"\",\r\n    Faculty: \"\",\r\n    RelatedFaculties: [],\r\n    Teaching: \"\",\r\n    SustainFocus: \"\"\r\n  });\r\n  const [CurrentRecord, setCurrentRecord] = useState({\r\n    Goals: [],\r\n    Targets: [],\r\n    Interaction: {\r\n      value: \"\",\r\n      type: \"\",\r\n      direction: \"\"\r\n    }\r\n  });\r\n  const [Records, setRecords] = useState([]);\r\n  const [NoError, setNoError] = useState();\r\n  const [Errors, setErrors] = useState({\r\n    Type: \"\",\r\n    CourseName: \"\",\r\n    CourseCode: \"\",\r\n    Year: \"\",\r\n    CourseResponsible: \"\",\r\n    Faculty: \"\",\r\n    RelatedFaculties: \"\",\r\n    Teaching: \"\",\r\n    SustainFocus: \"\"\r\n  });\r\n\r\n  // METHODS -> FUNCTIONS\r\n  const UpdateRecords = event => {\r\n    event.preventDefault();\r\n    /* const clicked_targets = [...document.getElementsByClassName(\"clicked-target-btn\")]\r\n     * clicked_targets.map(btn => btn.classList.toggle(\"clicked-target-btn\"))\r\n     * clicked_targets.map(btn => btn.classList.toggle(\"target-btn\")) */\r\n    var _CurrentRecord = CurrentRecord;\r\n    if (CurrentRecord.Targets.length <= 2) {\r\n      _CurrentRecord = {\r\n        ..._CurrentRecord,\r\n        Goals: _CurrentRecord.Goals\r\n      };\r\n    } else {\r\n      _CurrentRecord = {\r\n        ..._CurrentRecord,\r\n        Goals: _CurrentRecord.Targets.map(x => parseInt(x.split(\".\")[0]))\r\n      };\r\n    }\r\n    setRecords([_CurrentRecord, ...Records]);\r\n    setCurrentRecord({\r\n      ...CurrentRecord,\r\n      Targets: [],\r\n      Interaction: { value: \"\", type: \"\", direction: \"\" }\r\n    });\r\n  };\r\n  const RemoveCurrentRecord = event => {\r\n    setRecords(\r\n      Records.filter((value, idx) => String(idx) !== event.currentTarget.name)\r\n    );\r\n  };\r\n  const UpdateCurrent = input => event => {\r\n    const newRecord = Records.map((record, idx) => {\r\n      if (String(idx) === event.target.name) {\r\n        record.Interaction[input] = event.target.value;\r\n        return record;\r\n      } else {\r\n        return record;\r\n      }\r\n    });\r\n    setRecords(newRecord);\r\n  };\r\n  const UpdateFormData = (field, data) => {\r\n    setFormData({\r\n      ...FormData,\r\n      ...{ [field]: data }\r\n    });\r\n  };\r\n  const UpdateCurrentRecord = (input, value) => {\r\n    setCurrentRecord({\r\n      ...CurrentRecord,\r\n      [input]: value\r\n    });\r\n  };\r\n  const WriteData = data => {\r\n    var db = firestore();\r\n    db.collection(\"education\")\r\n      .add({ ...data, created: firestore.Timestamp.fromDate(new Date()) })\r\n      .then(function(docRef) {\r\n        console.log(\"Document written with ID: \", docRef.id);\r\n      })\r\n      .catch(function(error) {\r\n        console.error(\"Error adding document: \", error);\r\n      });\r\n    /* Firebase.database().ref('/').push(data); */\r\n    /* console.log(\"Data Saved\"); */\r\n  };\r\n  const Submit = event => {\r\n    event.preventDefault();\r\n    const data = {\r\n      Type: FormData.Type,\r\n      CourseCode: FormData.CourseCode,\r\n      Year: FormData.Year,\r\n      CourseName: FormData.CourseName,\r\n      CourseResponsible: FormData.CourseResponsible,\r\n      Faculty: FormData.Faculty,\r\n      RelatedFaculties: FormData.RelatedFaculties,\r\n      Teaching: FormData.Teaching,\r\n      SustainFocus: FormData.SustainFocus,\r\n      SDGRecords: Records\r\n    };\r\n    WriteData(data);\r\n    NextStep(event);\r\n  };\r\n  const NextStep = event => {\r\n    event.preventDefault();\r\n    setStep(Step + 1);\r\n  };\r\n  const PrevStep = event => {\r\n    event.preventDefault();\r\n    setStep(Step - 1);\r\n  };\r\n  const GoHome = event => {\r\n    event.preventDefault();\r\n    setRecords([]);\r\n    setCurrentRecord({\r\n      Goals: [],\r\n      Targets: [],\r\n      Interaction: {\r\n        value: \"\",\r\n        type: \"\",\r\n        direction: \"\"\r\n      }\r\n    });\r\n    setFormData({\r\n      Type: FormData.Type,\r\n      CourseCode: \"\",\r\n      Year: 2020,\r\n      CourseName: \"\",\r\n      CourseResponsible: \"\",\r\n      Faculty: \"\",\r\n      RelatedFaculties: [],\r\n      Teaching: \"\",\r\n      SustainFocus: \"\"\r\n    });\r\n    setStep(0);\r\n  };\r\n  const checkValidFields = event => {\r\n    let isValid = true;\r\n    let errors = Errors;\r\n\r\n    if (!FormData.CourseName) {\r\n      errors.CourseName = \"This field cannot be empty.\";\r\n      isValid = false;\r\n    }\r\n    if (!FormData.CourseCode) {\r\n      errors.CourseCode = \"Code cannot be empty. See Studentweb for code.\";\r\n      isValid = false;\r\n    }\r\n\r\n    setNoError(isValid);\r\n    setErrors({ ...Errors, ...errors });\r\n    return isValid;\r\n  };\r\n  const HandleFormChange = input => event => {\r\n    var errors = Errors;\r\n    const fields = input.split(\".\");\r\n    if (fields.length < 2) {\r\n      errors[fields[0]] = \"\";\r\n    } else {\r\n      errors[fields[0]] = { ...errors[fields[0]], [fields[1]]: \"\" };\r\n    }\r\n\r\n    /* errors[input] = \"\"; */\r\n    setNoError(\"\");\r\n    setErrors({ ...Errors, ...errors });\r\n    var newValue;\r\n    if (event.target) {\r\n      newValue = event.target.value;\r\n    } else if (event.value) {\r\n      newValue = event.value;\r\n    } else {\r\n      newValue = event;\r\n    }\r\n    if (input === \"CourseCode\") {\r\n      newValue = newValue.toUpperCase();\r\n    }\r\n    UpdateFormData(input, newValue);\r\n  };\r\n  const CheckAndProceed = event => {\r\n    event.preventDefault();\r\n    const isValid = checkValidFields(event);\r\n    // Call checkValidFields function\r\n    // This will update all the state\r\n    // If noError is false, Error should automatically displayed\r\n    // If noError is true, proceed to next step\r\n    /* NextStep(event) */\r\n    if (isValid) {\r\n      NextStep(event);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <InnerApp\r\n        Records={Records}\r\n        RemoveCurrentRecord={RemoveCurrentRecord}\r\n        UpdateCurrent={UpdateCurrent}\r\n        Step={Step}\r\n        StepConfig={StepConfig}\r\n        NextStep={NextStep}\r\n        FormData={FormData}\r\n        CurrentRecord={CurrentRecord}\r\n        UpdateFormData={UpdateFormData}\r\n        UpdateCurrentRecord={UpdateCurrentRecord}\r\n        UpdateRecords={UpdateRecords}\r\n        PrevStep={PrevStep}\r\n        GoHome={GoHome}\r\n        Submit={Submit}\r\n        Errors={Errors}\r\n        setErrors={setErrors}\r\n        NoError={NoError}\r\n        setNoError={setNoError}\r\n        checkValidFields={checkValidFields}\r\n        HandleChange={HandleFormChange}\r\n        CheckAndProceed={CheckAndProceed}\r\n      />\r\n    </ThemeProvider>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport * as d3 from \"d3\";\r\nimport miserables from \"./D3/miserables.json\";\r\nimport { TextField, MenuItem, Box, Typography } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyle = makeStyles(theme => ({\r\n  wrapper: {\r\n    overflowY: \"auto\"\r\n  },\r\n  recordsWrapper: {\r\n    width: \"100%\"\r\n  },\r\n  svgHeatmap: {\r\n    font: \"10px sans-serif\"\r\n  },\r\n  background: {\r\n    fill: \"#eee\"\r\n  },\r\n  line: {\r\n    stroke: \"#fff\"\r\n  },\r\n  text: {\r\n    \"&.active\": {\r\n      fill: \"red\"\r\n    }\r\n  }\r\n}));\r\n\r\nconst D3Component = props => {\r\n  const classes = useStyle();\r\n  const d3Container = useRef(null);\r\n  const orderRef = useRef(null);\r\n  const [order, setOrder] = useState(\"name\");\r\n  const [init, setInit] = useState(true);\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  const draw = () => {\r\n    var margin = { top: 80, right: 0, bottom: 10, left: 80 },\r\n      width = 720,\r\n      height = 720;\r\n\r\n    var x = d3.scaleBand().range([0, width]),\r\n      z = d3\r\n        .scaleLinear()\r\n        .domain([0, 4])\r\n        .clamp(true),\r\n      c = d3.scaleOrdinal(d3.schemeCategory10);\r\n\r\n    var svg = d3\r\n      .select(d3Container.current)\r\n      .append(\"svg\")\r\n      .attr(\"class\", classes.svgHeatmap)\r\n      .attr(\"width\", width + margin.left + margin.right)\r\n      .attr(\"height\", height + margin.top + margin.bottom)\r\n      .append(\"g\")\r\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n    d3.json(\r\n      \"https://raw.githubusercontent.com/d3/d3-plugins/master/graph/data/miserables.json\"\r\n    ).then(function(miserables) {\r\n      var matrix = [],\r\n        nodes = miserables.nodes,\r\n        n = nodes.length;\r\n\r\n      // Compute index per node.\r\n      nodes.forEach(function(node, i) {\r\n        node.index = i;\r\n        node.count = 0;\r\n        matrix[i] = d3.range(n).map(function(j) {\r\n          return { x: j, y: i, z: 0 };\r\n        });\r\n      });\r\n\r\n      // Convert links to matrix; count character occurrences.\r\n      miserables.links.forEach(function(link) {\r\n        matrix[link.source][link.target].z += link.value;\r\n        matrix[link.target][link.source].z += link.value;\r\n        matrix[link.source][link.source].z += link.value;\r\n        matrix[link.target][link.target].z += link.value;\r\n        nodes[link.source].count += link.value;\r\n        nodes[link.target].count += link.value;\r\n      });\r\n\r\n      // Precompute the orders.\r\n      var orders = {\r\n        name: d3.range(n).sort(function(a, b) {\r\n          return d3.ascending(nodes[a].name, nodes[b].name);\r\n        }),\r\n        count: d3.range(n).sort(function(a, b) {\r\n          return nodes[b].count - nodes[a].count;\r\n        }),\r\n        group: d3.range(n).sort(function(a, b) {\r\n          return nodes[b].group - nodes[a].group;\r\n        })\r\n      };\r\n\r\n      // The default sort order.\r\n      x.domain(orders[order]);\r\n\r\n      svg\r\n        .append(\"rect\")\r\n        .attr(\"class\", classes.background)\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height);\r\n\r\n      var row = svg\r\n        .selectAll(\".row\")\r\n        .data(matrix)\r\n        .enter()\r\n        .append(\"g\")\r\n        .attr(\"class\", \"row\")\r\n        .attr(\"transform\", function(d, i) {\r\n          return \"translate(0,\" + x(i) + \")\";\r\n        })\r\n        .each(rowfn);\r\n\r\n      row\r\n        .append(\"line\")\r\n        .attr(\"class\", classes.line)\r\n        .attr(\"x2\", width);\r\n\r\n      row\r\n        .append(\"text\")\r\n        .attr(\"x\", -6)\r\n        .attr(\"y\", x.bandwidth() / 2)\r\n        .attr(\"dy\", \".32em\")\r\n        .attr(\"text-anchor\", \"end\")\r\n        .text(function(d, i) {\r\n          return nodes[i].name;\r\n        });\r\n\r\n      var column = svg\r\n        .selectAll(\".column\")\r\n        .data(matrix)\r\n        .enter()\r\n        .append(\"g\")\r\n        .attr(\"class\", \"column\")\r\n        .attr(\"transform\", function(d, i) {\r\n          return \"translate(\" + x(i) + \")rotate(-90)\";\r\n        });\r\n\r\n      column\r\n        .append(\"line\")\r\n        .attr(\"class\", classes.line)\r\n        .attr(\"x1\", -width);\r\n\r\n      column\r\n        .append(\"text\")\r\n        .attr(\"x\", 6)\r\n        .attr(\"y\", x.bandwidth() / 2)\r\n        .attr(\"dy\", \".32em\")\r\n        .attr(\"text-anchor\", \"start\")\r\n        .text(function(d, i) {\r\n          return nodes[i].name;\r\n        });\r\n\r\n      function rowfn(row) {\r\n        d3.select(this)\r\n          .selectAll(\".cell\")\r\n          .data(\r\n            row.filter(function(d) {\r\n              return d.z;\r\n            })\r\n          )\r\n          .enter()\r\n          .append(\"rect\")\r\n          .attr(\"class\", \"cell\")\r\n          .attr(\"x\", function(d) {\r\n            return x(d.x);\r\n          })\r\n          .attr(\"width\", x.bandwidth())\r\n          .attr(\"height\", x.bandwidth())\r\n          .style(\"fill-opacity\", function(d) {\r\n            return z(d.z);\r\n          })\r\n          .style(\"fill\", function(d) {\r\n            return nodes[d.x].group === nodes[d.y].group\r\n              ? c(nodes[d.x].group)\r\n              : null;\r\n          })\r\n          .on(\"mouseover\", mouseover)\r\n          .on(\"mouseout\", mouseout);\r\n      }\r\n\r\n      function mouseover(p) {\r\n        d3.selectAll(\".row text\").classed(\"active\", function(d, i) {\r\n          return i === p.y;\r\n        });\r\n        d3.selectAll(\".column text\").classed(\"active\", function(d, i) {\r\n          return i === p.x;\r\n        });\r\n      }\r\n\r\n      function mouseout() {\r\n        d3.selectAll(\"text\")\r\n          .attr(\"class\", classes.text)\r\n          .classed(\"active\", false);\r\n      }\r\n\r\n      d3.select(orderRef.content).on(\"change\", function() {\r\n        orderPlot(order);\r\n        /* clearTimeout(timeout); */\r\n      });\r\n\r\n      function orderPlot(value) {\r\n        x.domain(orders[value]);\r\n\r\n        var t = svg.transition().duration(2500);\r\n\r\n        t.selectAll(\".row\")\r\n          .delay(function(d, i) {\r\n            return x(i) * 4;\r\n          })\r\n          .attr(\"transform\", function(d, i) {\r\n            return \"translate(0,\" + x(i) + \")\";\r\n          })\r\n          .selectAll(\".cell\")\r\n          .delay(function(d) {\r\n            return x(d.x) * 4;\r\n          })\r\n          .attr(\"x\", function(d) {\r\n            return x(d.x);\r\n          });\r\n\r\n        t.selectAll(\".column\")\r\n          .delay(function(d, i) {\r\n            return x(i) * 4;\r\n          })\r\n          .attr(\"transform\", function(d, i) {\r\n            return \"translate(\" + x(i) + \")rotate(-90)\";\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSelectChange = event => {\r\n    setOrder(event.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (init) {\r\n      draw();\r\n    } else {\r\n      d3Container.current.focus();\r\n      draw();\r\n    }\r\n    setInit(false);\r\n  }, [draw, init]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"d3-component\" ref={d3Container}></div>\r\n      <TextField\r\n        onChange={handleSelectChange}\r\n        ref={orderRef}\r\n        id=\"options\"\r\n        select\r\n        value={order}\r\n        variant=\"outlined\"\r\n      >\r\n        <MenuItem key=\"name\" value=\"name\">\r\n          By Name\r\n        </MenuItem>\r\n        <MenuItem key=\"count\" value=\"count\">\r\n          By Frequency\r\n        </MenuItem>\r\n        <MenuItem key=\"group\" value=\"group\">\r\n          By Cluster\r\n        </MenuItem>\r\n      </TextField>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst Heatmap = props => {\r\n  const classes = useStyle();\r\n\r\n  return (\r\n    <Box height=\"100%\" width=\"100%\" className={classes.wrapper}>\r\n      <Typography variant=\"h2\"></Typography>\r\n      <Box width=\"800px\" height=\"800px\" id=\"network\">\r\n        <D3Component data={miserables} />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\nexport default Heatmap;\r\n","export const FirebaseConfig = {\r\n    apiKey: \"AIzaSyAXR_F5PI_05rz1lNVHYvcjsyFpRCcPoGc\",\r\n    authDomain: \"towards-sdg.firebaseapp.com\",\r\n    databaseURL: \"https://towards-sdg.firebaseio.com\",\r\n    projectId: \"towards-sdg\",\r\n    storageBucket: \"towards-sdg.appspot.com\",\r\n    messagingSenderId: \"431265797823\",\r\n    appId: \"1:431265797823:web:3fdea673ce1dc9195f980a\"\r\n};\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App.js';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}